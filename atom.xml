<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>nova7y</title>
  
  
  <link href="/yyy/atom.xml" rel="self"/>
  
  <link href="/"/>
  <updated>2019-05-25T03:54:15.254Z</updated>
  <id>/</id>
  
  <author>
    <name>nova7y</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>HTTP协议详解</title>
    <link href="/2019/05/25/HTTP%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3/"/>
    <id>/2019/05/25/HTTP协议详解/</id>
    <published>2019-05-25T03:53:01.163Z</published>
    <updated>2019-05-25T03:54:15.254Z</updated>
    
    <content type="html"><![CDATA[<h2 id="概要："><a href="#概要：" class="headerlink" title="概要："></a>概要：</h2><p>HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统</p><h2 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h2><p>HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统。它于1990年提出，经过几年的使用与发展，得到不断地完善和扩展。目前在WWW中使用的是HTTP/1.0的第六版，HTTP/1.1的规范化工作正在进行之中，而且HTTP-NG(Next Generation of HTTP)的建议已经提出。</p><p>HTTP协议的主要特点可概括如下：</p><p>1.支持客户/服务器模式。</p><p>2.简单快速：客户向服务器请求服务时，只需传送请求方法和路径。请求方法常用的有GET、HEAD、POST。每种方法规定了客户与服务器联系的类型不同。由于HTTP协议简单，使得HTTP服务器的程序规模小，因而通信速度很快。</p><p>3.灵活：HTTP允许传输任意类型的数据对象。正在传输的类型由Content-Type加以标记。</p><p>4.无连接：无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间。</p><p>5.无状态：HTTP协议是无状态协议。无状态是指协议对于事务处理没有记忆能力。缺少状态意味着如果后续处理需要前面的信息，则它必须重传，这样可能导致每次连接传送的数据量增大。另一方面，在服务器不需要先前信息时它的应答就较快。</p><h2 id="一、HTTP协议详解之URL篇"><a href="#一、HTTP协议详解之URL篇" class="headerlink" title="一、HTTP协议详解之URL篇"></a>一、HTTP协议详解之URL篇</h2><p>​    http（超文本传输协议）是一个基于请求与响应模式的、无状态的、应用层的协议，常基于TCP的连接方式，HTTP1.1版本中给出一种持续连接的机制，绝大多数的Web开发，都是构建在HTTP协议之上的Web应用。</p><p>HTTP URL (URL是一种特殊类型的URI，包含了用于查找某个资源的足够的信息)的格式如下：</p><p><a href="http://host[&quot;:&quot;port][abs_path]" target="_blank" rel="noopener">http://host[&quot;:&quot;port][abs_path]</a></p><p>http表示要通过HTTP协议来定位网络资源；host表示合法的Internet主机域名或者IP地址；port指定一个端口号，为空则使用缺省端口80；abs_path指定请求资源的URI；如果URL中没有给出abs_path，那么当它作为请求URI时，必须以“/”的形式给出，通常这个工作浏览器自动帮我们完成。</p><p>eg:</p><p>1、输入：<a href="http://www.guet.edu.cn" target="_blank" rel="noopener">www.guet.edu.cn</a></p><p>浏览器自动转换成：<a href="http://www.guet.edu.cn/" target="_blank" rel="noopener">http://www.guet.edu.cn/</a></p><p>2、http:192.168.0.116:8080/index.jsp </p><h2 id="二、HTTP协议详解之请求篇"><a href="#二、HTTP协议详解之请求篇" class="headerlink" title="二、HTTP协议详解之请求篇"></a>二、HTTP协议详解之请求篇</h2><p>​    http请求由三部分组成，分别是：请求行、消息报头、请求正文</p><p>1、请求行以一个方法符号开头，以空格分开，后面跟着请求的URI和协议的版本，格式如下：Method Request-URI HTTP-Version CRLF  </p><p>其中 Method表示请求方法；Request-URI是一个统一资源标识符；HTTP-Version表示请求的HTTP协议版本；CRLF表示回车和换行（除了作为结尾的CRLF外，不允许出现单独的CR或LF字符）。</p><p>请求方法（所有方法全为大写）有多种，各个方法的解释如下：</p><p>GET     请求获取Request-URI所标识的资源</p><p>POST    在Request-URI所标识的资源后附加新的数据</p><p>HEAD    请求获取由Request-URI所标识的资源的响应消息报头</p><p>PUT     请求服务器存储一个资源，并用Request-URI作为其标识</p><p>DELETE  请求服务器删除Request-URI所标识的资源</p><p>TRACE   请求服务器回送收到的请求信息，主要用于测试或诊断</p><p>CONNECT 保留将来使用</p><p>OPTIONS 请求查询服务器的性能，或者查询与资源相关的选项和需求</p><p>应用举例：</p><p>GET方法：在浏览器的地址栏中输入网址的方式访问网页时，浏览器采用GET方法向服务器获取资源，eg:GET /form.html HTTP/1.1 (CRLF)</p><p>POST方法要求被请求服务器接受附在请求后面的数据，常用于提交表单。</p><p>eg：POST /reg.jsp HTTP/ (CRLF)</p><p>Accept:image/gif,image/x-xbit,… (CRLF)</p><p>…</p><p>HOST:<a href="http://www.guet.edu.cn" target="_blank" rel="noopener">www.guet.edu.cn</a> (CRLF)</p><p>Content-Length:22 (CRLF)</p><p>Connection:Keep-Alive (CRLF)</p><p>Cache-Control:no-cache (CRLF)</p><p>(CRLF)         //该CRLF表示消息报头已经结束，在此之前为消息报头</p><p>user=jeffrey&amp;pwd=1234  //此行以下为提交的数据</p><p>HEAD方法与GET方法几乎是一样的，对于HEAD请求的回应部分来说，它的HTTP头部中包含的信息与通过GET请求所得到的信息是相同的。利用这个方法，不必传输整个资源内容，就可以得到Request-URI所标识的资源的信息。该方法常用于测试超链接的有效性，是否可以访问，以及最近是否更新。</p><p>2、请求报头后述</p><p>3、请求正文(略) </p><h2 id="三、HTTP协议详解之响应篇"><a href="#三、HTTP协议详解之响应篇" class="headerlink" title="三、HTTP协议详解之响应篇"></a>三、HTTP协议详解之响应篇</h2><p>​    在接收和解释请求消息后，服务器返回一个HTTP响应消息。</p><p>HTTP响应也是由三个部分组成，分别是：状态行、消息报头、响应正文</p><p>1、状态行格式如下：</p><p>HTTP-Version Status-Code Reason-Phrase CRLF</p><p>其中，HTTP-Version表示服务器HTTP协议的版本；Status-Code表示服务器发回的响应状态代码；Reason-Phrase表示状态代码的文本描述。</p><p>状态代码有三位数字组成，第一个数字定义了响应的类别，且有五种可能取值：</p><p>1xx：指示信息–表示请求已接收，继续处理</p><p>2xx：成功–表示请求已被成功接收、理解、接受</p><p>3xx：重定向–要完成请求必须进行更进一步的操作</p><p>4xx：客户端错误–请求有语法错误或请求无法实现</p><p>5xx：服务器端错误–服务器未能实现合法的请求</p><p>常见状态代码、状态描述、说明：</p><p>200 OK      //客户端请求成功</p><p>400 Bad Request  //客户端请求有语法错误，不能被服务器所理解</p><p>401 Unauthorized //请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用 </p><p>403 Forbidden  //服务器收到请求，但是拒绝提供服务</p><p>404 Not Found  //请求资源不存在，eg：输入了错误的URL</p><p>500 Internal Server Error //服务器发生不可预期的错误</p><p>503 Server Unavailable  //服务器当前不能处理客户端的请求，一段时间后可能恢复正常</p><p>eg：HTTP/1.1 200 OK （CRLF）</p><p>2、响应报头后述</p><p>3、响应正文就是服务器返回的资源的内容 </p><h2 id="四、HTTP协议详解之消息报头篇"><a href="#四、HTTP协议详解之消息报头篇" class="headerlink" title="四、HTTP协议详解之消息报头篇"></a>四、HTTP协议详解之消息报头篇</h2><p>​    HTTP消息由客户端到服务器的请求和服务器到客户端的响应组成。请求消息和响应消息都是由开始行（对于请求消息，开始行就是请求行，对于响应消息，开始行就是状态行），消息报头（可选），空行（只有CRLF的行），消息正文（可选）组成。</p><p>HTTP消息报头包括普通报头、请求报头、响应报头、实体报头。</p><p>每一个报头域都是由名字+“：”+空格+值 组成，消息报头域的名字是大小写无关的。</p><p>1、普通报头</p><p>在普通报头中，有少数报头域用于所有的请求和响应消息，但并不用于被传输的实体，只用于传输的消息。</p><p>eg：</p><p>Cache-Control   用于指定缓存指令，缓存指令是单向的（响应中出现的缓存指令在请求中未必会出现），且是独立的（一个消息的缓存指令不会影响另一个消息处理的缓存机制），HTTP1.0使用的类似的报头域为Pragma。</p><p>请求时的缓存指令包括：no-cache（用于指示请求或响应消息不能缓存）、no-store、max-age、max-stale、min-fresh、only-if-cached;</p><p>响应时的缓存指令包括：public、private、no-cache、no-store、no-transform、must-revalidate、proxy-revalidate、max-age、s-maxage.</p><p>eg：为了指示IE浏览器（客户端）不要缓存页面，服务器端的JSP程序可以编写如下：response.sehHeader(“Cache-Control”,”no-cache”);</p><p>//response.setHeader(“Pragma”,”no-cache”);作用相当于上述代码，通常两者//合用</p><p>这句代码将在发送的响应消息中设置普通报头域：Cache-Control:no-cache</p><p>Date普通报头域表示消息产生的日期和时间</p><p>Connection普通报头域允许发送指定连接的选项。例如指定连接是连续，或者指定“close”选项，通知服务器，在响应完成后，关闭连接</p><p>2、请求报头</p><p>请求报头允许客户端向服务器端传递请求的附加信息以及客户端自身的信息。</p><p>常用的请求报头</p><p>Accept</p><p>Accept请求报头域用于指定客户端接受哪些类型的信息。eg：Accept：image/gif，表明客户端希望接受GIF图象格式的资源；Accept：text/html，表明客户端希望接受html文本。</p><p>Accept-Charset</p><p>Accept-Charset请求报头域用于指定客户端接受的字符集。eg：Accept-Charset:iso-8859-1,gb2312.如果在请求消息中没有设置这个域，缺省是任何字符集都可以接受。</p><p>Accept-Encoding</p><p>Accept-Encoding请求报头域类似于Accept，但是它是用于指定可接受的内容编码。eg：Accept-Encoding:gzip.deflate.如果请求消息中没有设置这个域服务器假定客户端对各种内容编码都可以接受。</p><p>Accept-Language</p><p>Accept-Language请求报头域类似于Accept，但是它是用于指定一种自然语言。eg：Accept-Language:zh-cn.如果请求消息中没有设置这个报头域，服务器假定客户端对各种语言都可以接受。</p><p>Authorization</p><p>Authorization请求报头域主要用于证明客户端有权查看某个资源。当浏览器访问一个页面时，如果收到服务器的响应代码为401（未授权），可以发送一个包含Authorization请求报头域的请求，要求服务器对其进行验证。</p><p>Host（发送请求时，该报头域是必需的）</p><p>Host请求报头域主要用于指定被请求资源的Internet主机和端口号，它通常从HTTP URL中提取出来的，eg：</p><p>我们在浏览器中输入：<a href="http://www.guet.edu.cn/index.html" target="_blank" rel="noopener">http://www.guet.edu.cn/index.html</a></p><p>浏览器发送的请求消息中，就会包含Host请求报头域，如下：</p><p>Host：<a href="http://www.guet.edu.cn" target="_blank" rel="noopener">www.guet.edu.cn</a></p><p>此处使用缺省端口号80，若指定了端口号，则变成：Host：<a href="http://www.guet.edu.cn:指定端口号" target="_blank" rel="noopener">www.guet.edu.cn:指定端口号</a></p><p>User-Agent</p><p>我们上网登陆论坛的时候，往往会看到一些欢迎信息，其中列出了你的操作系统的名称和版本，你所使用的浏览器的名称和版本，这往往让很多人感到很神奇，实际上，服务器应用程序就是从User-Agent这个请求报头域中获取到这些信息。User-Agent请求报头域允许客户端将它的操作系统、浏览器和其它属性告诉服务器。不过，这个报头域不是必需的，如果我们自己编写一个浏览器，不使用User-Agent请求报头域，那么服务器端就无法得知我们的信息了。</p><p>请求报头举例：</p><p>GET /form.html HTTP/1.1 (CRLF)</p><p>Accept:image/gif,image/x-xbitmap,image/jpeg,application/x-shockwave-flash,application/vnd.ms-excel,application/vnd.ms-powerpoint,application/msword,<em>/</em> (CRLF)</p><p>Accept-Language:zh-cn (CRLF)</p><p>Accept-Encoding:gzip,deflate (CRLF)</p><p>If-Modified-Since:Wed,05 Jan 2007 11:21:25 GMT (CRLF)</p><p>If-None-Match:W/“80b1a4c018f3c41:8317” (CRLF)</p><p>User-Agent:Mozilla/4.0(compatible;MSIE6.0;Windows NT 5.0) (CRLF)</p><p>Host:<a href="http://www.guet.edu.cn" target="_blank" rel="noopener">www.guet.edu.cn</a> (CRLF)</p><p>Connection:Keep-Alive (CRLF)</p><p>(CRLF)</p><p>3、响应报头</p><p>响应报头允许服务器传递不能放在状态行中的附加响应信息，以及关于服务器的信息和对Request-URI所标识的资源进行下一步访问的信息。</p><p>常用的响应报头</p><p>Location</p><p>Location响应报头域用于重定向接受者到一个新的位置。Location响应报头域常用在更换域名的时候。</p><p>Server</p><p>Server响应报头域包含了服务器用来处理请求的软件信息。与User-Agent请求报头域是相对应的。下面是</p><p>Server响应报头域的一个例子：</p><p>Server：Apache-Coyote/1.1</p><p>WWW-Authenticate</p><p>WWW-Authenticate响应报头域必须被包含在401（未授权的）响应消息中，客户端收到401响应消息时候，并发送Authorization报头域请求服务器对其进行验证时，服务端响应报头就包含该报头域。</p><p>eg：WWW-Authenticate:Basic realm=”Basic Auth Test!”  //可以看出服务器对请求资源采用的是基本验证机制。</p><p>4、实体报头</p><p>请求和响应消息都可以传送一个实体。一个实体由实体报头域和实体正文组成，但并不是说实体报头域和实体正文要在一起发送，可以只发送实体报头域。实体报头定义了关于实体正文（eg：有无实体正文）和请求所标识的资源的元信息。</p><p>常用的实体报头</p><p>Content-Encoding</p><p>Content-Encoding实体报头域被用作媒体类型的修饰符，它的值指示了已经被应用到实体正文的附加内容的编码，因而要获得Content-Type报头域中所引用的媒体类型，必须采用相应的解码机制。Content-Encoding这样用于记录文档的压缩方法，eg：Content-Encoding：gzip</p><p>Content-Language</p><p>Content-Language实体报头域描述了资源所用的自然语言。没有设置该域则认为实体内容将提供给所有的语言阅读</p><p>者。eg：Content-Language:da</p><p>Content-Length</p><p>Content-Length实体报头域用于指明实体正文的长度，以字节方式存储的十进制数字来表示。</p><p>Content-Type</p><p>Content-Type实体报头域用语指明发送给接收者的实体正文的媒体类型。eg：</p><p>Content-Type:text/html;charset=ISO-8859-1</p><p>Content-Type:text/html;charset=GB2312</p><p>Last-Modified</p><p>Last-Modified实体报头域用于指示资源的最后修改日期和时间。</p><p>Expires</p><p>Expires实体报头域给出响应过期的日期和时间。为了让代理服务器或浏览器在一段时间以后更新缓存中(再次访问曾访问过的页面时，直接从缓存中加载，缩短响应时间和降低服务器负载)的页面，我们可以使用Expires实体报头域指定页面过期的时间。eg：Expires：Thu，15 Sep 2006 16:23:12 GMT</p><p>HTTP1.1的客户端和缓存必须将其他非法的日期格式（包括0）看作已经过期。eg：为了让浏览器不要缓存页面，我们也可以利用Expires实体报头域，设置为0，jsp中程序如下：response.setDateHeader(“Expires”,”0”);</p><p>五、利用telnet观察http协议的通讯过程</p><p>​    实验目的及原理：</p><p>​    利用MS的telnet工具，通过手动输入http请求信息的方式，向服务器发出请求，服务器接收、解释和接受请求后，会返回一个响应，该响应会在telnet窗口上显示出来，从而从感性上加深对http协议的通讯过程的认识。</p><p>​    实验步骤：</p><p>1、打开telnet</p><p>1.1 打开telnet</p><p>运行–&gt;cmd–&gt;telnet</p><p>1.2 打开telnet回显功能</p><p>set localecho</p><p>2、连接服务器并发送请求</p><p>2.1 open <a href="http://www.guet.edu.cn" target="_blank" rel="noopener">www.guet.edu.cn</a> 80  //注意端口号不能省略</p><p>​    HEAD /index.asp HTTP/1.0</p><p>​    Host:<a href="http://www.guet.edu.cn" target="_blank" rel="noopener">www.guet.edu.cn</a></p><p>​    </p><p>   /<em>我们可以变换请求方法,请求桂林电子主页内容,输入消息如下</em>/</p><p>​    open <a href="http://www.guet.edu.cn" target="_blank" rel="noopener">www.guet.edu.cn</a> 80 </p><p>​    GET /index.asp HTTP/1.0  //请求资源的内容</p><p>​    Host:<a href="http://www.guet.edu.cn" target="_blank" rel="noopener">www.guet.edu.cn</a>  </p><p>2.2 open <a href="http://www.sina.com.cn" target="_blank" rel="noopener">www.sina.com.cn</a> 80  //在命令提示符号下直接输入telnet <a href="http://www.sina.com.cn" target="_blank" rel="noopener">www.sina.com.cn</a> 80</p><p>​    HEAD /index.asp HTTP/1.0</p><p>​    Host:<a href="http://www.sina.com.cn" target="_blank" rel="noopener">www.sina.com.cn</a></p><p>3 实验结果：</p><p>3.1 请求信息2.1得到的响应是:</p><p>HTTP/1.1 200 OK                                              //请求成功</p><p>Server: Microsoft-IIS/5.0                                    //web服务器</p><p>Date: Thu,08 Mar 200707:17:51 GMT</p><p>Connection: Keep-Alive                                 </p><p>Content-Length: 23330</p><p>Content-Type: text/html</p><p>Expries: Thu,08 Mar 2007 07:16:51 GMT</p><p>Set-Cookie: ASPSESSIONIDQAQBQQQB=BEJCDGKADEDJKLKKAJEOIMMH; path=/</p><p>Cache-control: private</p><p>//资源内容省略</p><p>3.2 请求信息2.2得到的响应是:</p><p>HTTP/1.0 404 Not Found       //请求失败</p><p>Date: Thu, 08 Mar 2007 07:50:50 GMT</p><p>Server: Apache/2.0.54 <unix></unix></p><p>Last-Modified: Thu, 30 Nov 2006 11:35:41 GMT</p><p>ETag: “6277a-415-e7c76980”</p><p>Accept-Ranges: bytes</p><p>X-Powered-By: mod_xlayout_jh/0.0.1vhs.markII.remix</p><p>Vary: Accept-Encoding</p><p>Content-Type: text/html</p><p>X-Cache: MISS from zjm152-78.sina.com.cn</p><p>Via: 1.0 zjm152-78.sina.com.cn:80&lt;squid/2.6.STABLES-20061207&gt;</p><p>X-Cache: MISS from th-143.sina.com.cn</p><p>Connection: close</p><p>失去了跟主机的连接</p><p>按任意键继续…</p><p>4 .注意事项：1、出现输入错误，则请求不会成功。</p><p>​          2、报头域不分大小写。</p><p>​          3、更深一步了解HTTP协议，可以查看RFC2616，在<a href="http://www.letf.org/rfc上找到该文件。" target="_blank" rel="noopener">http://www.letf.org/rfc上找到该文件。</a></p><p>​          4、开发后台程序必须掌握http协议</p><p>六、HTTP协议相关技术补充</p><p>​    1、基础：</p><p>​    高层协议有：文件传输协议FTP、电子邮件传输协议SMTP、域名系统服务DNS、网络新闻传输协议NNTP和HTTP协议等</p><p>中介由三种：代理(Proxy)、网关(Gateway)和通道(Tunnel)，一个代理根据URI的绝对格式来接受请求，重写全部或部分消息，通过 URI的标识把已格式化过的请求发送到服务器。网关是一个接收代理，作为一些其它服务器的上层，并且如果必须的话，可以把请求翻译给下层的服务器协议。一 个通道作为不改变消息的两个连接之间的中继点。当通讯需要通过一个中介(例如：防火墙等)或者是中介不能识别消息的内容时，通道经常被使用。</p><p>​     代理(Proxy)：一个中间程序，它可以充当一个服务器，也可以充当一个客户机，为其它客户机建立请求。请求是通过可能的翻译在内部或经过传递到其它的 服务器中。一个代理在发送请求信息之前，必须解释并且如果可能重写它。代理经常作为通过防火墙的客户机端的门户，代理还可以作为一个帮助应用来通过协议处 理没有被用户代理完成的请求。</p><p>网关(Gateway)：一个作为其它服务器中间媒介的服务器。与代理不同的是，网关接受请求就好象对被请求的资源来说它就是源服务器；发出请求的客户机并没有意识到它在同网关打交道。</p><p>网关经常作为通过防火墙的服务器端的门户，网关还可以作为一个协议翻译器以便存取那些存储在非HTTP系统中的资源。</p><p>​    通道(Tunnel)：是作为两个连接中继的中介程序。一旦激活，通道便被认为不属于HTTP通讯，尽管通道可能是被一个HTTP请求初始化的。当被中继 的连接两端关闭时，通道便消失。当一个门户(Portal)必须存在或中介(Intermediary)不能解释中继的通讯时通道被经常使用。</p><p>2、协议分析的优势—HTTP分析器检测网络攻击</p><p>以模块化的方式对高层协议进行分析处理，将是未来入侵检测的方向。</p><p>HTTP及其代理的常用端口80、3128和8080在network部分用port标签进行了规定</p><p>3、HTTP协议Content Lenth限制漏洞导致拒绝服务攻击</p><p>使用POST方法时，可以设置ContentLenth来定义需要传送的数据长度，例如ContentLenth:999999999，在传送完成前，内 存不会释放，攻击者可以利用这个缺陷，连续向WEB服务器发送垃圾数据直至WEB服务器内存耗尽。这种攻击方法基本不会留下痕迹。</p><p><a href="http://www.cnpaf.net/Class/HTTP/0532918532667330.html" target="_blank" rel="noopener">http://www.cnpaf.net/Class/HTTP/0532918532667330.html</a></p><p>4、利用HTTP协议的特性进行拒绝服务攻击的一些构思</p><p>服务器端忙于处理攻击者伪造的TCP连接请求而无暇理睬客户的正常请求（毕竟客户端的正常请求比率非常之小），此时从正常客户的角度看来，服务器失去响应，这种情况我们称作：服务器端受到了SYNFlood攻击（SYN洪水攻击）。</p><p>而Smurf、TearDrop等是利用ICMP报文来Flood和IP碎片攻击的。本文用“正常连接”的方法来产生拒绝服务攻击。</p><p>19端口在早期已经有人用来做Chargen攻击了，即Chargen_Denial_of_Service，但是！他们用的方法是在两台Chargen 服务器之间产生UDP连接，让服务器处理过多信息而DOWN掉，那么，干掉一台WEB服务器的条件就必须有2个：1.有Chargen服务2.有HTTP 服务</p><p>方法：攻击者伪造源IP给N台Chargen发送连接请求（Connect），Chargen接收到连接后就会返回每秒72字节的字符流（实际上根据网络实际情况，这个速度更快）给服务器。</p><p>5、Http指纹识别技术</p><p>   Http指纹识别的原理大致上也是相同的：记录不同服务器对Http协议执行中的微小差别进行识别.Http指纹识别比TCP/IP堆栈指纹识别复杂许 多,理由是定制Http服务器的配置文件、增加插件或组件使得更改Http的响应信息变的很容易,这样使得识别变的困难；然而定制TCP/IP堆栈的行为 需要对核心层进行修改,所以就容易识别.</p><p>​      要让服务器返回不同的Banner信息的设置是很简单的,象Apache这样的开放源代码的Http服务器,用户可以在源代码里修改Banner信息,然 后重起Http服务就生效了；对于没有公开源代码的Http服务器比如微软的IIS或者是Netscape,可以在存放Banner信息的Dll文件中修 改,相关的文章有讨论的,这里不再赘述,当然这样的修改的效果还是不错的.另外一种模糊Banner信息的方法是使用插件。</p><p>常用测试请求：</p><p>1：HEAD/Http/1.0发送基本的Http请求</p><p>2：DELETE/Http/1.0发送那些不被允许的请求,比如Delete请求</p><p>3：GET/Http/3.0发送一个非法版本的Http协议请求</p><p>4：GET/JUNK/1.0发送一个不正确规格的Http协议请求</p><p>Http指纹识别工具Httprint,它通过运用统计学原理,组合模糊的逻辑学技术,能很有效的确定Http服务器的类型.它可以被用来收集和分析不同Http服务器产生的签名。</p><p>6、其他：为了提高用户使用浏览器时的性能，现代浏览器还支持并发的访问方式，浏览一个网页时同时建立多个连接，以迅速获得一个网页上的多个图标，这样能更快速完成整个网页的传输。</p><p>HTTP1.1中提供了这种持续连接的方式，而下一代HTTP协议：HTTP-NG更增加了有关会话控制、丰富的内容协商等方式的支持，来提供</p><p>更高效率的连接</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;概要：&quot;&gt;&lt;a href=&quot;#概要：&quot; class=&quot;headerlink&quot; title=&quot;概要：&quot;&gt;&lt;/a&gt;概要：&lt;/h2&gt;&lt;p&gt;HTTP是一个属于应用层的面向对象的协议，由于其简捷、快速的方式，适用于分布式超媒体信息系统&lt;/p&gt;
&lt;h2 id=&quot;引言&quot;&gt;&lt;a 
      
    
    </summary>
    
      <category term="扩展阅读" scheme="/categories/%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/"/>
    
    
      <category term="扩展阅读" scheme="/tags/%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/"/>
    
  </entry>
  
  <entry>
    <title>前端文件上传方式总结</title>
    <link href="/2019/05/25/%E5%89%8D%E7%AB%AF%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93/"/>
    <id>/2019/05/25/前端文件上传方式总结/</id>
    <published>2019-05-25T03:41:45.029Z</published>
    <updated>2019-05-25T03:44:30.275Z</updated>
    
    <content type="html"><![CDATA[<h1 id="第一种：经典的form和input上传。"><a href="#第一种：经典的form和input上传。" class="headerlink" title="第一种：经典的form和input上传。"></a>第一种：经典的form和input上传。</h1><p>设置form的aciton为后端页面，enctype=”multipart/form-data”，type=‘post’</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">'uploadFile.php'</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span> <span class="attr">type</span>=<span class="string">'post'</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'file'</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'hidden'</span> <span class="attr">name</span>=<span class="string">'userid'</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'hidden'</span> <span class="attr">name</span>=<span class="string">'signature'</span>&gt;</span></span><br><span class="line">　　<span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure><p>使用input选择文件，设置好其他input的值，点击提交，将文件数据及签名等认证信息发送到form设置的action对应的页面，浏览器也会跳转到该页面。触发form表单提交数据的方式有2种，一种是在页面上点击button按钮或<input type="submit">按钮触发，第二种是在js中执行form.submit()方法。</p><p>优点：使用简单方便，兼容性好，基本所有浏览器都支持。</p><p>缺点：1. 提交数据后页面会跳转（下面会讲如何禁止页面跳转）。</p><p>​           2.因为是浏览器发起的请求，不是一个ajax，所以前端无法知道什么时候上传结束。</p><p>​           \3. form表单里发送除文件外的数据，一般是新建一个type=hidden的input，value=‘需要传的数据’，每发送一个数据就需要一个input，一旦多了就会使得dom看起来比较冗余。</p><p><strong>小技巧：</strong></p><p>form表单提交数据后会自动跳转到action指定的页面，为了禁止页面跳转，可以在页面中新建一个空的ifame，比如name=’upload’，然后设置form的target=”Uploader”，form有一个target的属性，规定在何处打开action，这样form提交数据后就会仍停留在当前页。代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">'uploadFile.php'</span> <span class="attr">enctype</span>=<span class="string">"multipart/form-data"</span> <span class="attr">type</span>=<span class="string">'post'</span>  <span class="attr">target</span>=<span class="string">"uploader1"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'file'</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">ifrmae</span> <span class="attr">name</span>=<span class="string">'upload'</span> <span class="attr">id</span>=<span class="string">'uploader1'</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>这样写的另一个好处是，可以知道什么时候上传完成并接收到后端的回调结果。比如上面这个例子，文件数据发送到了 ‘uploadFile.php’，假设该页面处理完数据后返回了一个地址，该地址会被写入到之前的iframe中。所以在ifame的onload函数触发时，也就是上传完成后，可以在iframe中读取到后端返回的数据。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span>  iframe = <span class="built_in">document</span>.getElementById(<span class="string">'upload1'</span>);</span><br><span class="line">iframe.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </span><br><span class="line"><span class="keyword">var</span> doc = <span class="built_in">window</span>.frames[<span class="string">'uploader1'</span>].document;</span><br><span class="line"><span class="keyword">var</span> pre = doc.getElementsByTagName(<span class="string">'pre'</span>);</span><br><span class="line"><span class="keyword">var</span> obj = <span class="built_in">JSON</span>.parse(pre[<span class="number">0</span>].innerHTML);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> 使用这种方法时需要注意，iframe有跨域限制，创建出来的iframe的地址如果和当前页面地址不同源，会报错。这种情况下，建议大家在iframe的onload函数中，再次向后端请求一个接口获取文件地址，而不是直接去iframe里读取。或者返回这样的数据。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.top.window[callback](data)</span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">callback是和前端约定好的名字，上传完成后触发该函数并返回后端数据。</span><br></pre></td></tr></table></figure><h1 id="第二种：使用formData上传。"><a href="#第二种：使用formData上传。" class="headerlink" title="第二种：使用formData上传。"></a>第二种：使用formData上传。</h1><p>用js构造form表单的数据，简单高效，但最低只兼容IE10，所以需要兼容IE9的童鞋们就略过这个方法吧。</p><p>html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'file'</span>&gt;</span></span><br></pre></td></tr></table></figure><p>js:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> formData = <span class="keyword">new</span> FormData();</span><br><span class="line">formData.append(<span class="string">"userid"</span>, userid);</span><br><span class="line">formData.append(<span class="string">"signature"</span>, signature);</span><br><span class="line">formData.append(<span class="string">"file"</span>, file); <span class="comment">//file是blob数据</span></span><br><span class="line"><span class="comment">//再用ajax发送formData到服务器即可，注意一定要是post方式上传</span></span><br></pre></td></tr></table></figure><p>说明：第一种方法提到了创建多个type=‘hidden’的input来发送签名数据，这儿可以用formData.append方法来代替该操作，避免了dom中有多个input的情况出现。最后将file数据也append到formData发送到服务器即可完成上传。</p><p>优点：由于这种方式是ajax上传，可以准确知道什么时候上传完成，也可以方便地接收到回调数据。</p><p>缺点：兼容性差</p><h1 id="第三种：使用fileReader读取文件数据进行上传。"><a href="#第三种：使用fileReader读取文件数据进行上传。" class="headerlink" title="第三种：使用fileReader读取文件数据进行上传。"></a>第三种：使用fileReader读取文件数据进行上传。</h1><p>HTML5的新api，兼容性也不是特别好，只兼容到了IE10。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fr = <span class="keyword">new</span> FileReader();</span><br><span class="line">fr.readAsDataURL(file);</span><br><span class="line">fr.onload = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line"><span class="keyword">var</span> data= event.target.result; <span class="comment">//此处获得的data是base64格式的数据</span></span><br><span class="line">img.src = data;</span><br><span class="line">ajax(url,&#123;data&#125; ,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面获得的data可以用来实现图片上传前的本地预览，也可以用来发送base64数据给后端然后返回该数据块对应的地址。</p><p>优点： 同第二种</p><p>缺点：一次性发送大量的base64数据会导致浏览器卡顿，服务器端接收这样的数据可能也会出现问题。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;第一种：经典的form和input上传。&quot;&gt;&lt;a href=&quot;#第一种：经典的form和input上传。&quot; class=&quot;headerlink&quot; title=&quot;第一种：经典的form和input上传。&quot;&gt;&lt;/a&gt;第一种：经典的form和input上传。&lt;/h1&gt;&lt;
      
    
    </summary>
    
      <category term="前端" scheme="/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>网页共用头部与尾部方法</title>
    <link href="/2019/05/24/%E7%BD%91%E9%A1%B5%E5%85%B1%E7%94%A8%E5%A4%B4%E9%83%A8%E4%B8%8E%E5%B0%BE%E9%83%A8%E6%96%B9%E6%B3%95/"/>
    <id>/2019/05/24/网页共用头部与尾部方法/</id>
    <published>2019-05-24T13:25:26.977Z</published>
    <updated>2019-05-24T13:30:00.861Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一、asp语言和PHP语言"><a href="#一、asp语言和PHP语言" class="headerlink" title="一、asp语言和PHP语言"></a>一、asp语言和PHP语言</h1><p>首先制作一个头部文件head.asp，或者一个底部文件foot.asp。如主页是index.asp，调用头部代码是在index.asp文件代码的开始位置（第一个标记后面，<head><meta name="generator" content="Hexo 3.8.0">标记前面）增加如下代码：</head></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!–  #include file=”head.asp”    –&gt;</span><br></pre></td></tr></table></figure><p>调用共用底部文件代码是在index.asp文件代码的结束位置（最后一个标记前面）增加如下代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!–     #include file=”foot.asp”    –&gt;</span><br></pre></td></tr></table></figure><p>如果是PHP文件，文件名改为 footer.php即可。</p><h1 id="二、html语言"><a href="#二、html语言" class="headerlink" title="二、html语言"></a>二、html语言</h1><p>制作一个共用头部文件head.htm或一个共用底部文件foot.htm。如主页文件是index.htm，调用头部和底部文件的方法是：在主页文件代码的开始位置和结束位置分别增加下面的代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">MARGINWIDTH</span>=<span class="string">0</span> <span class="attr">MARGINHEIGHT</span>=<span class="string">0</span> <span class="attr">HSPACE</span>=<span class="string">0</span> <span class="attr">VSPACE</span>=<span class="string">0</span> <span class="attr">FRAMEBORDER</span>=<span class="string">0</span> <span class="attr">SCROLLING</span>=<span class="string">no</span> <span class="attr">src</span>=<span class="string">”head.htm”</span> <span class="attr">height</span>=<span class="string">“auto”</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">MARGINWIDTH</span>=<span class="string">0</span> <span class="attr">MARGINHEIGHT</span>=<span class="string">0</span> <span class="attr">HSPACE</span>=<span class="string">0</span> <span class="attr">VSPACE</span>=<span class="string">0</span> <span class="attr">FRAMEBORDER</span>=<span class="string">0</span> <span class="attr">SCROLLING</span>=<span class="string">no</span> <span class="attr">src</span>=<span class="string">”foot.htm”</span> <span class="attr">height</span>=<span class="string">"auto"</span> <span class="attr">width</span>=<span class="string">"100%"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br></pre></td></tr></table></figure><p>比如下面的代码主页面：index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">'head.css'</span>  <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> &gt;</span></span><br><span class="line">//主页面index.html</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'miaov_head'</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">iframe</span> <span class="attr">MARGINWIDTH</span>=<span class="string">0</span> <span class="attr">MARGINHEIGHT</span>=<span class="string">0</span> <span class="attr">HSPACE</span>=<span class="string">0</span> <span class="attr">VSPACE</span>=<span class="string">0</span> <span class="attr">FRAMEBORDER</span>=<span class="string">0</span> <span class="attr">SCROLLING</span>=<span class="string">no</span> <span class="attr">src</span>=<span class="string">"head.html"</span> <span class="attr">width</span>=<span class="string">"100%"</span>  <span class="attr">height</span>=<span class="string">"auto"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">iframe</span>&gt;</span>--------这里调用head.html页面，需要使用div包起来，否则样式会发生改变</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>单独存放的head.html代码如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">'head.css'</span>  <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> &gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'miaov_head'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.cnblogs.com/jtjds/"</span>&gt;</span>Mac<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.cnblogs.com/jtjds/"</span>&gt;</span>iPad<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.cnblogs.com/jtjds/"</span>&gt;</span>iPhone<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.cnblogs.com/jtjds/"</span>&gt;</span>Watch<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.cnblogs.com/jtjds/"</span>&gt;</span>Music<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://www.cnblogs.com/jtjds/"</span>&gt;</span>Contact Us<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>css样式代码如下：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">*&#123;<span class="attribute">margin</span>:<span class="number">0</span>;<span class="attribute">padding</span>:<span class="number">0</span>;&#125;</span><br><span class="line"><span class="selector-tag">body</span>&#123;<span class="attribute">background</span>:white;<span class="attribute">position</span>:relative;<span class="attribute">height</span>:<span class="number">100%</span>;<span class="attribute">color</span>: <span class="number">#777</span>;<span class="attribute">font-size</span>: <span class="number">13px</span>;&#125;</span><br><span class="line"><span class="selector-tag">img</span>&#123;<span class="attribute">border</span>:none;<span class="attribute">display</span>:block;&#125;</span><br><span class="line"><span class="selector-tag">li</span>&#123;<span class="attribute">list-style</span>:none;<span class="attribute">text-decoration</span>: none;&#125;</span><br><span class="line"><span class="selector-class">.miaov_head</span>&#123;<span class="attribute">height</span>:<span class="number">36px</span>;<span class="attribute">width</span>:<span class="number">100%</span>;<span class="attribute">margin</span>:<span class="number">0</span> auto;<span class="attribute">background</span>: black;<span class="attribute">margin-bottom</span>: <span class="number">0px</span>;&#125;</span><br><span class="line"><span class="selector-class">.miaov_head</span>  <span class="selector-tag">img</span>&#123;<span class="attribute">width</span>: <span class="number">30px</span> ;<span class="attribute">height</span>: <span class="number">30px</span>;<span class="attribute">margin-top</span>: <span class="number">0</span>;<span class="attribute">margin-left</span>: <span class="number">130px</span>;&#125;</span><br><span class="line"><span class="selector-class">.miaov_head</span>  <span class="selector-tag">ul</span>&#123;<span class="attribute">float</span>: left;<span class="attribute">width</span>:<span class="number">900px</span>;<span class="attribute">height</span>: <span class="number">36px</span>;<span class="attribute">margin-top</span>: <span class="number">0px</span>;<span class="attribute">color</span>: white;<span class="attribute">position</span>: absolute;<span class="attribute">top</span>: <span class="number">0px</span>;<span class="attribute">margin-left</span>: <span class="number">200px</span>;&#125;</span><br><span class="line"><span class="selector-class">.miaov_head</span>  <span class="selector-tag">ul</span> <span class="selector-tag">li</span>&#123;<span class="attribute">float</span>: left;<span class="attribute">padding-left</span>: <span class="number">80px</span>;<span class="attribute">margin-left</span>: <span class="number">0px</span>;<span class="attribute">color</span>: white;<span class="attribute">list-style</span>: none; &#125;</span><br><span class="line"><span class="selector-class">.miaov_head</span>  <span class="selector-tag">ul</span> <span class="selector-tag">li</span> <span class="selector-tag">a</span>&#123;<span class="attribute">color</span>: white;<span class="attribute">font-size</span>: <span class="number">14px</span>;<span class="attribute">text-decoration</span>: none;&#125;</span><br><span class="line"><span class="selector-class">.miaov_head</span> <span class="selector-tag">input</span>&#123;<span class="attribute">position</span>: absolute;<span class="attribute">top</span>: <span class="number">5px</span>;<span class="attribute">margin-left</span>: <span class="number">1000px</span>;<span class="attribute">width</span>: <span class="number">200px</span>;<span class="attribute">height</span>: <span class="number">22px</span>;&#125;</span><br><span class="line"><span class="selector-class">.miaov_head</span> <span class="selector-tag">a</span>&#123;<span class="attribute">line-height</span>:<span class="number">36px</span>;<span class="attribute">color</span>:<span class="number">#777</span>;&#125;</span><br><span class="line"><span class="selector-class">.miaov_head</span> <span class="selector-tag">a</span><span class="selector-pseudo">:hover</span>&#123;<span class="attribute">color</span>:<span class="number">#555</span>;&#125;</span><br></pre></td></tr></table></figure><h1 id="三、script语言–推荐这种"><a href="#三、script语言–推荐这种" class="headerlink" title="三、script语言–推荐这种"></a>三、script语言–推荐这种</h1><blockquote><p>制作一个共用头部文件head.js和一个共用底部文件foot.js。如主页文件是index.htm，调用头部和底部文件的方法是：在主页文件代码的开始位置和结束位置分别增加下面的代码:<script src="head.js">和<script src='foot.js'>调用共同的网页头部或者网页底部，减少了每个页面都要编写头部或底部的复杂程度，而且方便修改，只要修改一个头部或者底部文件，所有页面的头部或者底部都随之改变，增加了工作效率。</p></blockquote><p>比如：head.js文件——根据上面的head.html，利用转换工具：<a href="http://tool.chinaz.com/Tools/Html_Js.aspx">http://tool.chinaz.com/Tools/Html_Js.aspx</a></p><p> html转换为JS:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;head&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;style&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;/style&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;title&gt;&lt;/title&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">" &lt;link href=\'head.css\'  rel=\"stylesheet\" type=\"text/css\" /&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;/head&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;body &gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">" &lt;div class=\'miaov_head\'&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"    &lt;ul&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"      &lt;li&gt;&lt;a href=\"http://www.cnblogs.com/jtjds/\"&gt;Mac&lt;/a&gt;&lt;/li&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"      &lt;li&gt;&lt;a href=\"http://www.cnblogs.com/jtjds/\"&gt;iPad&lt;/a&gt;&lt;/li&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"      &lt;li&gt;&lt;a href=\"http://www.cnblogs.com/jtjds/\"&gt;iPhone&lt;/a&gt;&lt;/li&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"      &lt;li&gt;&lt;a href=\"http://www.cnblogs.com/jtjds/\"&gt;Watch&lt;/a&gt;&lt;/li&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"      &lt;li&gt;&lt;a href=\"http://www.cnblogs.com/jtjds/\"&gt;Music&lt;/a&gt;&lt;/li&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"      &lt;li&gt;&lt;a href=\"http://www.cnblogs.com/jtjds/\"&gt;Contact Us&lt;/a&gt;&lt;/li&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"    &lt;/ul&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;/div&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">" "</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;/body&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"&lt;/html&gt;"</span>);</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">""</span>);</span><br></pre></td></tr></table></figure><p> 以后无论在哪个页面，想调用该头部文件，直接插入head.js文件即可：下面是随便建的一个页面，//MAC.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">xmlns</span>=<span class="string">"http://www.w3.org/1999/xhtml"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"head.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>-------------------这里调用head.js</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> &gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="四：shtml文件"><a href="#四：shtml文件" class="headerlink" title="四：shtml文件"></a>四：shtml文件</h1><p>使用ssi技术页面生成shtml文件，只用在头部文件位置加入<!--#include file="header.htm" -->，然后修改的时候只要修改header.htm文件就可以了。使用shtml的好处是对搜索引擎比较友好，需要处理的文件在服务器端完成的， 不会加重访问者的浏览器负担。</p><h1 id="五：本地合并"><a href="#五：本地合并" class="headerlink" title="五：本地合并"></a>五：本地合并</h1><p>即将HTML硬拆成头、尾、内容三个部分的文件，在预览或者发布之前用脚本手工合并。很久以前用过，没有后台的时候使用效果不错。</p><h1 id="六：ajax动态拉取填充"><a href="#六：ajax动态拉取填充" class="headerlink" title="六：ajax动态拉取填充"></a>六：ajax动态拉取填充</h1><h1 id="七：web服务器（比如IIS）中设定包含"><a href="#七：web服务器（比如IIS）中设定包含" class="headerlink" title="七：web服务器（比如IIS）中设定包含"></a>七：web服务器（比如IIS）中设定包含</h1><p>比如我们说的SSI，文档后缀名是.shtml的就可以使用include包含。</p><p>SSI（Server Side Include)，通常称为”服务器端嵌入”或者叫”服务器端包含”，是一种类似于ASP的基于服务器的网页制作技术。默认扩展名是 .stm、.shtm 和 .shtml。SSI就是在HTML文件中，可以通过注释行调用的命令或指针，SSI具有 强大的功能，只要使用一条简单的SSI命令就可以实现整个网站的内容更新，时间和日期的动态显示，以及执行shell和CGI脚本程序等复杂的功能。</p><h1 id="八：后台模板引擎处理（字符串拼接）"><a href="#八：后台模板引擎处理（字符串拼接）" class="headerlink" title="八：后台模板引擎处理（字符串拼接）"></a>八：后台模板引擎处理（字符串拼接）</h1></script></p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;一、asp语言和PHP语言&quot;&gt;&lt;a href=&quot;#一、asp语言和PHP语言&quot; class=&quot;headerlink&quot; title=&quot;一、asp语言和PHP语言&quot;&gt;&lt;/a&gt;一、asp语言和PHP语言&lt;/h1&gt;&lt;p&gt;首先制作一个头部文件head.asp，或者一个底部文
      
    
    </summary>
    
      <category term="前端" scheme="/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>js实现表格内容无缝滚动 - v2</title>
    <link href="/2019/05/24/js%E5%AE%9E%E7%8E%B0%E8%A1%A8%E6%A0%BC%E5%86%85%E5%AE%B9%E6%97%A0%E7%BC%9D%E6%BB%9A%E5%8A%A8%20-%20v2/"/>
    <id>/2019/05/24/js实现表格内容无缝滚动 - v2/</id>
    <published>2019-05-24T13:22:04.955Z</published>
    <updated>2019-05-24T13:22:31.763Z</updated>
    
    <content type="html"><![CDATA[<h2 id="直接上代码"><a href="#直接上代码" class="headerlink" title="直接上代码"></a>直接上代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>table表格无缝向上滚动-jq22.com<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://libs.baidu.com/jquery/1.11.3/jquery.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tablebox</span> &#123;</span></span><br><span class="line"><span class="undefined">            height: 500px;</span></span><br><span class="line"><span class="undefined">            overflow: hidden;</span></span><br><span class="line"><span class="undefined">            position: relative;</span></span><br><span class="line"><span class="undefined">            width: 1000px;</span></span><br><span class="line"><span class="undefined">            margin: 100px auto;</span></span><br><span class="line"><span class="undefined">            background-color: rgba(6, 26, 103, 1);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tbl-header</span> &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            top: 0;</span></span><br><span class="line"><span class="undefined">            left: 0;</span></span><br><span class="line"><span class="undefined">            z-index: 999;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tbl-body</span> &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            top: 0;</span></span><br><span class="line"><span class="undefined">            left: 0;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tablebox</span> <span class="selector-tag">table</span> &#123;</span></span><br><span class="line"><span class="undefined">            width: 100%;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tablebox</span> <span class="selector-tag">table</span> <span class="selector-tag">th</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.tablebox</span> <span class="selector-tag">table</span> <span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="undefined">            font-size: 24px;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">color</span>: <span class="selector-id">#7ca6f4</span>;</span></span><br><span class="line"><span class="undefined">            line-height: 45px;</span></span><br><span class="line"><span class="undefined">            text-align: center;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tablebox</span> <span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">th</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-id">#1f1f9c</span>;</span></span><br><span class="line"><span class="undefined">            cursor: pointer;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tablebox</span> <span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="undefined">            background-color: transparent;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tbl-body</span> <span class="selector-tag">tr</span><span class="selector-pseudo">:nth-child(even)</span> <span class="selector-tag">td</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.tbl-body1</span> <span class="selector-tag">tr</span><span class="selector-pseudo">:nth-child(even)</span> <span class="selector-tag">td</span> &#123;</span></span><br><span class="line"><span class="css">            <span class="selector-tag">background-color</span>: <span class="selector-tag">rgba</span>(31, 31, 156, <span class="selector-class">.5</span>);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="css">        <span class="selector-class">.tablebox</span> <span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span> <span class="selector-tag">span</span>,</span></span><br><span class="line"><span class="css">        <span class="selector-class">.tablebox</span> <span class="selector-tag">table</span> <span class="selector-tag">tr</span> <span class="selector-tag">td</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line"><span class="undefined">            font-size: 24px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tablebox"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tbl-header"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span> <span class="attr">cellpadding</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>排名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>地市<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>销售收入(万元)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>同比(%)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>环比(%)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>销售计划(万元)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>计划完成率(%)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tbody</span> <span class="attr">style</span>=<span class="string">"opacity:0;"</span>&gt;</span><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"tbl-body"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">cellspacing</span>=<span class="string">"0"</span> <span class="attr">cellpadding</span>=<span class="string">"0"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>排名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>地市<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>销售收入(万元)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>同比(%)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>环比(%)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>销售计划(万元)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">th</span>&gt;</span>计划完成率(%)<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tbody</span>&gt;</span><span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> MyMarhq = <span class="string">''</span>;</span></span><br><span class="line"><span class="undefined">        clearInterval(MyMarhq);</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'.tbl-body tbody'</span>).empty();</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'.tbl-header tbody'</span>).empty();</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> str = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> Items = [&#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"1"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"保定"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"2506734.43"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"296071.96"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"7200000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"34.82"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"264.15"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"29.62"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"53.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-13.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"2"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"沧州"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"1425935.58"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"93717.83"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"3200000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"44.56"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"366.59"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"11.23"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"65.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"43.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"3"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"秦皇岛"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"1372207.38"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"241071.82"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"3000000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"45.74"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"342.32"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"6.61"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"34.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"7.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"4"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"衡水"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"972451.15"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"87638.60"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"2700000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"36.02"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"246.03"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"11.56"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"15.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-18.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"5"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"石家庄"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"939010.52"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"140217.37"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"7200000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"13.04"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"139.44"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"19.23"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"-57.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-48.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"6"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"邢台"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"774274.70"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"124693.90"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"3700000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"20.93"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"138.87"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"9.44"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"-20.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-44.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"7"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"唐山"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"680456.79"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"50542.14"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"3600000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"18.90"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"243.60"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"16.95"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"-29.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-49.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"8"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"张家口"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"613319.87"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"176075.96"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"3000000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"20.44"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"87.09"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"7.97"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"2.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-24.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"9"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"中油华奥"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"596575.25"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"387024.26"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"11000000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"5.42"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"93.58"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"19.06"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"35.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"6.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"10"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"承德"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"589048.12"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"68966.73"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"2200000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"26.77"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"193.24"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"11.29"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"30.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-28.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"11"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"廊坊"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"515448.14"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"137934.72"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"3500000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"14.73"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"95.47"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"8.80"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"-48.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-3.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"12"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"瑞州"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"399875.26"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"85371.46"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"2000000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"19.99"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"114.42"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"11.42"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"128.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-30.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"13"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"石家庄中油"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"90543.62"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"20065.14"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"430000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"21.06"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"213.44"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"20.45"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"-24.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-17.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"14"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"辛集中油"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"49255.52"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"8743.12"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"250000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"19.70"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"202.67"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"29.95"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"19.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-6.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"15"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"井陉中油"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"29682.60"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"2175.66"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"140000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"21.20"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"730.20"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"25.55"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"-74.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-52.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;,</span></span><br><span class="line"><span class="undefined">            &#123;</span></span><br><span class="line"><span class="javascript">                <span class="string">"Ranking"</span>: <span class="string">"16"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"City"</span>: <span class="string">"保定中油"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleIncome"</span>: <span class="string">"11887.73"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SaleRough"</span>: <span class="string">"2944.97"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"SalePlan"</span>: <span class="string">"100000"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"PlanFinish"</span>: <span class="string">"11.89"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"TonOilincome"</span>: <span class="string">"118.12"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"OilTransform"</span>: <span class="string">"34.16"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"An"</span>: <span class="string">"-64.00"</span>,</span></span><br><span class="line"><span class="javascript">                <span class="string">"Mom"</span>: <span class="string">"-72.00"</span></span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        ]</span></span><br><span class="line"><span class="javascript">        $.each(Items, <span class="function"><span class="keyword">function</span> (<span class="params">i, item</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            str = <span class="string">'&lt;tr&gt;'</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">'&lt;td&gt;'</span> + item.Ranking + <span class="string">'&lt;/td&gt;'</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">'&lt;td&gt;'</span> + item.City + <span class="string">'&lt;/td&gt;'</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">'&lt;td&gt;'</span> + (+item.SaleIncome / <span class="number">10000</span>).toFixed(<span class="number">2</span>) + <span class="string">'&lt;/td&gt;'</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">'&lt;td&gt;'</span> + (+item.An).toFixed(<span class="number">2</span>) + <span class="string">'&lt;/td&gt;'</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">'&lt;td&gt;'</span> + (+item.Mom).toFixed(<span class="number">2</span>) + <span class="string">'&lt;/td&gt;'</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">'&lt;td&gt;'</span> + (item.SalePlan / <span class="number">10000</span>).toFixed(<span class="number">2</span>) + <span class="string">'&lt;/td&gt;'</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">'&lt;td&gt;'</span> + (+item.PlanFinish).toFixed(<span class="number">2</span>) + <span class="string">'&lt;/td&gt;'</span> +</span></span><br><span class="line"><span class="javascript">                <span class="string">'&lt;/tr&gt;'</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.tbl-body tbody'</span>).append(str);</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.tbl-header tbody'</span>).append(str);</span></span><br><span class="line"><span class="undefined">        &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (Items.length &gt; <span class="number">10</span>) &#123;</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.tbl-body tbody'</span>).html($(<span class="string">'.tbl-body tbody'</span>).html() + $(<span class="string">'.tbl-body tbody'</span>).html());</span></span><br><span class="line"><span class="javascript">            $(<span class="string">'.tbl-body'</span>).css(<span class="string">'top'</span>, <span class="string">'0'</span>);</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> tblTop = <span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> speedhq = <span class="number">50</span>; <span class="comment">// 数值越大越慢</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> outerHeight = $(<span class="string">'.tbl-body tbody'</span>).find(<span class="string">"tr"</span>).outerHeight();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="function"><span class="keyword">function</span> <span class="title">Marqueehq</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (tblTop &lt;= -outerHeight * Items.length) &#123;</span></span><br><span class="line"><span class="undefined">                    tblTop = 0;</span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="undefined">                    tblTop -= 1;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">'.tbl-body'</span>).css(<span class="string">'top'</span>, tblTop + <span class="string">'px'</span>);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">            MyMarhq = setInterval(Marqueehq, speedhq);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 鼠标移上去取消事件</span></span></span><br><span class="line"><span class="javascript">            $(<span class="string">".tbl-header tbody"</span>).hover(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                clearInterval(MyMarhq);</span></span><br><span class="line"><span class="javascript">            &#125;, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="undefined">                clearInterval(MyMarhq);</span></span><br><span class="line"><span class="undefined">                MyMarhq = setInterval(Marqueehq, speedhq);</span></span><br><span class="line"><span class="undefined">            &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;直接上代码&quot;&gt;&lt;a href=&quot;#直接上代码&quot; class=&quot;headerlink&quot; title=&quot;直接上代码&quot;&gt;&lt;/a&gt;直接上代码&lt;/h2&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;
      
    
    </summary>
    
      <category term="JavaScript" scheme="/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Linux常用命令大全</title>
    <link href="/2019/05/24/Linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%A4%A7%E5%85%A8/"/>
    <id>/2019/05/24/Linux常用命令大全/</id>
    <published>2019-05-24T13:16:55.117Z</published>
    <updated>2019-05-24T13:20:04.487Z</updated>
    
    <content type="html"><![CDATA[<h1 id="系统信息"><a href="#系统信息" class="headerlink" title="系统信息"></a>系统信息</h1><p>arch 显示机器的处理器架构(1)<br>uname -m 显示机器的处理器架构(2)<br>uname -r 显示正在使用的内核版本<br>dmidecode -q 显示硬件系统部件 - (SMBIOS / DMI)<br>hdparm -i /dev/hda 罗列一个磁盘的架构特性<br>hdparm -tT /dev/sda 在磁盘上执行测试性读取操作<br>cat /proc/cpuinfo 显示CPU info的信息<br>cat /proc/interrupts 显示中断<br>cat /proc/meminfo 校验内存使用<br>cat /proc/swaps 显示哪些swap被使用<br>cat /proc/version 显示内核的版本<br>cat /proc/net/dev 显示网络适配器及统计<br>cat /proc/mounts 显示已加载的文件系统<br>lspci -tv 罗列 PCI 设备<br>lsusb -tv 显示 USB 设备<br>date 显示系统日期<br>cal 2007 显示2007年的日历表<br>date 041217002007.00 设置日期和时间 - 月日时分年.秒<br>clock -w 将时间修改保存到 BIOS </p><h1 id="关机-系统的关机、重启以及登出"><a href="#关机-系统的关机、重启以及登出" class="headerlink" title="关机 (系统的关机、重启以及登出 )"></a>关机 (系统的关机、重启以及登出 )</h1><p>shutdown -h now 关闭系统(1)<br>init 0 关闭系统(2)<br>telinit 0 关闭系统(3)<br>shutdown -h hours:minutes &amp; 按预定时间关闭系统<br>shutdown -c 取消按预定时间关闭系统<br>shutdown -r now 重启(1)<br>reboot 重启(2)<br>logout 注销 </p><h1 id="文件和目录"><a href="#文件和目录" class="headerlink" title="文件和目录"></a>文件和目录</h1><p>cd /home 进入 ‘/ home’ 目录’<br>cd .. 返回上一级目录<br>cd ../.. 返回上两级目录<br>cd 进入个人的主目录<br>cd ~user1 进入个人的主目录<br>cd - 返回上次所在的目录<br>pwd 显示工作路径<br>ls 查看目录中的文件<br>ls -F 查看目录中的文件<br>ls -l 显示文件和目录的详细资料<br>ls -a 显示隐藏文件<br>ls <em>[0-9]</em> 显示包含数字的文件名和目录名<br>tree 显示文件和目录由根目录开始的树形结构(1)<br>lstree 显示文件和目录由根目录开始的树形结构(2)<br>mkdir dir1 创建一个叫做 ‘dir1’ 的目录’<br>mkdir dir1 dir2 同时创建两个目录<br>mkdir -p /tmp/dir1/dir2 创建一个目录树<br>rm -f file1 删除一个叫做 ‘file1’ 的文件’<br>rmdir dir1 删除一个叫做 ‘dir1’ 的目录’<br>rm -rf dir1 删除一个叫做 ‘dir1’ 的目录并同时删除其内容<br>rm -rf dir1 dir2 同时删除两个目录及它们的内容<br>mv dir1 new_dir 重命名/移动 一个目录<br>cp file1 file2 复制一个文件<br>cp dir/<em> . 复制一个目录下的所有文件到当前工作目录<br>cp -a /tmp/dir1 . 复制一个目录到当前工作目录<br>cp -a dir1 dir2 复制一个目录<br>ln -s file1 lnk1 创建一个指向文件或目录的软链接<br>ln file1 lnk1 创建一个指向文件或目录的物理链接<br>touch -t 0712250000 file1 修改一个文件或目录的时间戳 - (YYMMDDhhmm)<br>file file1 outputs the mime type of the file as text<br>iconv -l 列出已知的编码<br>iconv -f fromEncoding -t toEncoding inputFile &gt; outputFile creates a new from the given input file by assuming it is encoded in fromEncoding and converting it to toEncoding.<br>find . -maxdepth 1 -name </em>.jpg -print -exec convert “{}” -resize 80x60 “thumbs/{}” \; batch resize files in the current directory and send them to a thumbnails directory (requires convert from Imagemagick) </p><h1 id="文件搜索"><a href="#文件搜索" class="headerlink" title="文件搜索"></a>文件搜索</h1><p>find / -name file1 从 ‘/‘ 开始进入根文件系统搜索文件和目录<br>find / -user user1 搜索属于用户 ‘user1’ 的文件和目录<br>find /home/user1 -name *.bin 在目录 ‘/ home/user1’ 中搜索带有’.bin’ 结尾的文件<br>find /usr/bin -type f -atime +100 搜索在过去100天内未被使用过的执行文件<br>find /usr/bin -type f -mtime -10 搜索在10天内被创建或者修改过的文件<br>find / -name *.rpm -exec chmod 755 ‘{}’ \; 搜索以 ‘.rpm’ 结尾的文件并定义其权限<br>find / -xdev -name *.rpm 搜索以 ‘.rpm’ 结尾的文件，忽略光驱、捷盘等可移动设备<br>locate *.ps 寻找以 ‘.ps’ 结尾的文件 - 先运行 ‘updatedb’ 命令<br>whereis halt 显示一个二进制文件、源码或man的位置<br>which halt 显示一个二进制文件或可执行文件的完整路径 </p><h1 id="挂载一个文件系统"><a href="#挂载一个文件系统" class="headerlink" title="挂载一个文件系统"></a>挂载一个文件系统</h1><p>mount /dev/hda2 /mnt/hda2 挂载一个叫做hda2的盘 - 确定目录 ‘/ mnt/hda2’ 已经存在<br>umount /dev/hda2 卸载一个叫做hda2的盘 - 先从挂载点 ‘/ mnt/hda2’ 退出<br>fuser -km /mnt/hda2 当设备繁忙时强制卸载<br>umount -n /mnt/hda2 运行卸载操作而不写入 /etc/mtab 文件- 当文件为只读或当磁盘写满时非常有用<br>mount /dev/fd0 /mnt/floppy 挂载一个软盘<br>mount /dev/cdrom /mnt/cdrom 挂载一个cdrom或dvdrom<br>mount /dev/hdc /mnt/cdrecorder 挂载一个cdrw或dvdrom<br>mount /dev/hdb /mnt/cdrecorder 挂载一个cdrw或dvdrom<br>mount -o loop file.iso /mnt/cdrom 挂载一个文件或ISO镜像文件<br>mount -t vfat /dev/hda5 /mnt/hda5 挂载一个Windows FAT32文件系统<br>mount /dev/sda1 /mnt/usbdisk 挂载一个usb 捷盘或闪存设备<br>mount -t smbfs -o username=user,password=pass //WinClient/share /mnt/share 挂载一个windows网络共享 </p><h1 id="磁盘空间"><a href="#磁盘空间" class="headerlink" title="磁盘空间"></a>磁盘空间</h1><p>df -h 显示已经挂载的分区列表<br>ls -lSr |more 以尺寸大小排列文件和目录<br>du -sh dir1 估算目录 ‘dir1’ 已经使用的磁盘空间’<br>du -sk * | sort -rn 以容量大小为依据依次显示文件和目录的大小<br>rpm -q -a –qf ‘%10{SIZE}t%{NAME}n’ | sort -k1,1n 以大小为依据依次显示已安装的rpm包所使用的空间 (fedora, redhat类系统)<br>dpkg-query -W -f=’${Installed-Size;10}t${Package}n’ | sort -k1,1n 以大小为依据显示已安装的deb包所使用的空间 (ubuntu, debian类系统) </p><h1 id="用户和群组"><a href="#用户和群组" class="headerlink" title="用户和群组"></a>用户和群组</h1><p>groupadd group_name 创建一个新用户组<br>groupdel group_name 删除一个用户组<br>groupmod -n new_group_name old_group_name 重命名一个用户组<br>useradd -c “Name Surname “ -g admin -d /home/user1 -s /bin/bash user1 创建一个属于 “admin” 用户组的用户<br>useradd user1 创建一个新用户<br>userdel -r user1 删除一个用户 ( ‘-r’ 排除主目录)<br>usermod -c “User FTP” -g system -d /ftp/user1 -s /bin/nologin user1 修改用户属性<br>passwd 修改口令<br>passwd user1 修改一个用户的口令 (只允许root执行)<br>chage -E 2005-12-31 user1 设置用户口令的失效期限<br>pwck 检查 ‘/etc/passwd’ 的文件格式和语法修正以及存在的用户<br>grpck 检查 ‘/etc/passwd’ 的文件格式和语法修正以及存在的群组<br>newgrp group_name 登陆进一个新的群组以改变新创建文件的预设群组 </p><h1 id="文件的权限-使用-“-”-设置权限，使用-“-“-用于取消"><a href="#文件的权限-使用-“-”-设置权限，使用-“-“-用于取消" class="headerlink" title="文件的权限 - 使用 “+” 设置权限，使用 “-“ 用于取消"></a>文件的权限 - 使用 “+” 设置权限，使用 “-“ 用于取消</h1><p>ls -lh 显示权限<br>ls /tmp | pr -T5 -W$COLUMNS 将终端划分成5栏显示<br>chmod ugo+rwx directory1 设置目录的所有人(u)、群组(g)以及其他人(o)以读（r ）、写(w)和执行(x)的权限<br>chmod go-rwx directory1 删除群组(g)与其他人(o)对目录的读写执行权限<br>chown user1 file1 改变一个文件的所有人属性<br>chown -R user1 directory1 改变一个目录的所有人属性并同时改变改目录下所有文件的属性<br>chgrp group1 file1 改变文件的群组<br>chown user1:group1 file1 改变一个文件的所有人和群组属性<br>find / -perm -u+s 罗列一个系统中所有使用了SUID控制的文件<br>chmod u+s /bin/file1 设置一个二进制文件的 SUID 位 - 运行该文件的用户也被赋予和所有者同样的权限<br>chmod u-s /bin/file1 禁用一个二进制文件的 SUID位<br>chmod g+s /home/public 设置一个目录的SGID 位 - 类似SUID ，不过这是针对目录的<br>chmod g-s /home/public 禁用一个目录的 SGID 位<br>chmod o+t /home/public 设置一个文件的 STIKY 位 - 只允许合法所有人删除文件<br>chmod o-t /home/public 禁用一个目录的 STIKY 位 </p><h1 id="文件的特殊属性-使用-“-”-设置权限，使用-“-“-用于取消"><a href="#文件的特殊属性-使用-“-”-设置权限，使用-“-“-用于取消" class="headerlink" title="文件的特殊属性 - 使用 “+” 设置权限，使用 “-“ 用于取消"></a>文件的特殊属性 - 使用 “+” 设置权限，使用 “-“ 用于取消</h1><p>chattr +a file1 只允许以追加方式读写文件<br>chattr +c file1 允许这个文件能被内核自动压缩/解压<br>chattr +d file1 在进行文件系统备份时，dump程序将忽略这个文件<br>chattr +i file1 设置成不可变的文件，不能被删除、修改、重命名或者链接<br>chattr +s file1 允许一个文件被安全地删除<br>chattr +S file1 一旦应用程序对这个文件执行了写操作，使系统立刻把修改的结果写到磁盘<br>chattr +u file1 若文件被删除，系统会允许你在以后恢复这个被删除的文件<br>lsattr 显示特殊的属性 </p><h1 id="打包和压缩文件"><a href="#打包和压缩文件" class="headerlink" title="打包和压缩文件"></a>打包和压缩文件</h1><p>bunzip2 file1.bz2 解压一个叫做 ‘file1.bz2’的文件<br>bzip2 file1 压缩一个叫做 ‘file1’ 的文件<br>gunzip file1.gz 解压一个叫做 ‘file1.gz’的文件<br>gzip file1 压缩一个叫做 ‘file1’的文件<br>gzip -9 file1 最大程度压缩<br>rar a file1.rar test_file 创建一个叫做 ‘file1.rar’ 的包<br>rar a file1.rar file1 file2 dir1 同时压缩 ‘file1’, ‘file2’ 以及目录 ‘dir1’<br>rar x file1.rar 解压rar包<br>unrar x file1.rar 解压rar包<br>tar -cvf archive.tar file1 创建一个非压缩的 tarball<br>tar -cvf archive.tar file1 file2 dir1 创建一个包含了 ‘file1’, ‘file2’ 以及 ‘dir1’的档案文件<br>tar -tf archive.tar 显示一个包中的内容<br>tar -xvf archive.tar 释放一个包<br>tar -xvf archive.tar -C /tmp 将压缩包释放到 /tmp目录下<br>tar -cvfj archive.tar.bz2 dir1 创建一个bzip2格式的压缩包<br>tar -xvfj archive.tar.bz2 解压一个bzip2格式的压缩包<br>tar -cvfz archive.tar.gz dir1 创建一个gzip格式的压缩包<br>tar -xvfz archive.tar.gz 解压一个gzip格式的压缩包<br>zip file1.zip file1 创建一个zip格式的压缩包<br>zip -r file1.zip file1 file2 dir1 将几个文件和目录同时压缩成一个zip格式的压缩包<br>unzip file1.zip 解压一个zip格式压缩包 </p><h1 id="RPM-包-（Fedora-Redhat及类似系统）"><a href="#RPM-包-（Fedora-Redhat及类似系统）" class="headerlink" title="RPM 包 - （Fedora, Redhat及类似系统）"></a>RPM 包 - （Fedora, Redhat及类似系统）</h1><p>rpm -ivh package.rpm 安装一个rpm包<br>rpm -ivh –nodeeps package.rpm 安装一个rpm包而忽略依赖关系警告<br>rpm -U package.rpm 更新一个rpm包但不改变其配置文件<br>rpm -F package.rpm 更新一个确定已经安装的rpm包<br>rpm -e package_name.rpm 删除一个rpm包<br>rpm -qa 显示系统中所有已经安装的rpm包<br>rpm -qa | grep httpd 显示所有名称中包含 “httpd” 字样的rpm包<br>rpm -qi package_name 获取一个已安装包的特殊信息<br>rpm -qg “System Environment/Daemons” 显示一个组件的rpm包<br>rpm -ql package_name 显示一个已经安装的rpm包提供的文件列表<br>rpm -qc package_name 显示一个已经安装的rpm包提供的配置文件列表<br>rpm -q package_name –whatrequires 显示与一个rpm包存在依赖关系的列表<br>rpm -q package_name –whatprovides 显示一个rpm包所占的体积<br>rpm -q package_name –scripts 显示在安装/删除期间所执行的脚本l<br>rpm -q package_name –changelog 显示一个rpm包的修改历史<br>rpm -qf /etc/httpd/conf/httpd.conf 确认所给的文件由哪个rpm包所提供<br>rpm -qp package.rpm -l 显示由一个尚未安装的rpm包提供的文件列表<br>rpm –import /media/cdrom/RPM-GPG-KEY 导入公钥数字证书<br>rpm –checksig package.rpm 确认一个rpm包的完整性<br>rpm -qa gpg-pubkey 确认已安装的所有rpm包的完整性<br>rpm -V package_name 检查文件尺寸、 许可、类型、所有者、群组、MD5检查以及最后修改时间<br>rpm -Va 检查系统中所有已安装的rpm包- 小心使用<br>rpm -Vp package.rpm 确认一个rpm包还未安装<br>rpm2cpio package.rpm | cpio –extract –make-directories <em>bin</em> 从一个rpm包运行可执行文件<br>rpm -ivh /usr/src/redhat/RPMS/<code>arch</code>/package.rpm 从一个rpm源码安装一个构建好的包<br>rpmbuild –rebuild package_name.src.rpm 从一个rpm源码构建一个 rpm 包 </p><h1 id="YUM-软件包升级器-（Fedora-RedHat及类似系统）"><a href="#YUM-软件包升级器-（Fedora-RedHat及类似系统）" class="headerlink" title="YUM 软件包升级器 - （Fedora, RedHat及类似系统）"></a>YUM 软件包升级器 - （Fedora, RedHat及类似系统）</h1><p>yum install package_name 下载并安装一个rpm包<br>yum localinstall package_name.rpm 将安装一个rpm包，使用你自己的软件仓库为你解决所有依赖关系<br>yum update package_name.rpm 更新当前系统中所有安装的rpm包<br>yum update package_name 更新一个rpm包<br>yum remove package_name 删除一个rpm包<br>yum list 列出当前系统中安装的所有包<br>yum search package_name 在rpm仓库中搜寻软件包<br>yum clean packages 清理rpm缓存删除下载的包<br>yum clean headers 删除所有头文件<br>yum clean all 删除所有缓存的包和头文件 </p><h1 id="DEB-包-Debian-Ubuntu-以及类似系统"><a href="#DEB-包-Debian-Ubuntu-以及类似系统" class="headerlink" title="DEB 包 (Debian, Ubuntu 以及类似系统)"></a>DEB 包 (Debian, Ubuntu 以及类似系统)</h1><p>dpkg -i package.deb 安装/更新一个 deb 包<br>dpkg -r package_name 从系统删除一个 deb 包<br>dpkg -l 显示系统中所有已经安装的 deb 包<br>dpkg -l | grep httpd 显示所有名称中包含 “httpd” 字样的deb包<br>dpkg -s package_name 获得已经安装在系统中一个特殊包的信息<br>dpkg -L package_name 显示系统中已经安装的一个deb包所提供的文件列表<br>dpkg –contents package.deb 显示尚未安装的一个包所提供的文件列表<br>dpkg -S /bin/ping 确认所给的文件由哪个deb包提供 </p><h1 id="APT-软件工具-Debian-Ubuntu-以及类似系统"><a href="#APT-软件工具-Debian-Ubuntu-以及类似系统" class="headerlink" title="APT 软件工具 (Debian, Ubuntu 以及类似系统)"></a>APT 软件工具 (Debian, Ubuntu 以及类似系统)</h1><p>apt-get install package_name 安装/更新一个 deb 包<br>apt-cdrom install package_name 从光盘安装/更新一个 deb 包<br>apt-get update 升级列表中的软件包<br>apt-get upgrade 升级所有已安装的软件<br>apt-get remove package_name 从系统删除一个deb包<br>apt-get check 确认依赖的软件仓库正确<br>apt-get clean 从下载的软件包中清理缓存<br>apt-cache search searched-package 返回包含所要搜索字符串的软件包名称 </p><h1 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h1><p>cat file1 从第一个字节开始正向查看文件的内容<br>tac file1 从最后一行开始反向查看一个文件的内容<br>more file1 查看一个长文件的内容<br>less file1 类似于 ‘more’ 命令，但是它允许在文件中和正向操作一样的反向操作<br>head -2 file1 查看一个文件的前两行<br>tail -2 file1 查看一个文件的最后两行<br>tail -f /var/log/messages 实时查看被添加到一个文件中的内容 </p><h1 id="文本处理"><a href="#文本处理" class="headerlink" title="文本处理"></a>文本处理</h1><p>cat file1 file2 … | command &lt;&gt; file1_in.txt_or_file1_out.txt general syntax for text manipulation using PIPE, STDIN and STDOUT<br>cat file1 | command( sed, grep, awk, grep, etc…) &gt; result.txt 合并一个文件的详细说明文本，并将简介写入一个新文件中<br>cat file1 | command( sed, grep, awk, grep, etc…) &gt;&gt; result.txt 合并一个文件的详细说明文本，并将简介写入一个已有的文件中<br>grep Aug /var/log/messages 在文件 ‘/var/log/messages’中查找关键词”Aug”<br>grep ^Aug /var/log/messages 在文件 ‘/var/log/messages’中查找以”Aug”开始的词汇<br>grep [0-9] /var/log/messages 选择 ‘/var/log/messages’ 文件中所有包含数字的行<br>grep Aug -R /var/log/<em> 在目录 ‘/var/log’ 及随后的目录中搜索字符串”Aug”<br>sed ‘s/stringa1/stringa2/g’ example.txt 将example.txt文件中的 “string1” 替换成 “string2”<br>sed ‘/^$/d’ example.txt 从example.txt文件中删除所有空白行<br>sed ‘/ </em>#/d; /^$/d’ example.txt 从example.txt文件中删除所有注释和空白行<br>echo ‘esempio’ | tr ‘[:lower:]’ ‘[:upper:]’ 合并上下单元格内容<br>sed -e ‘1d’ result.txt 从文件example.txt 中排除第一行<br>sed -n ‘/stringa1/p’ 查看只包含词汇 “string1”的行<br>sed -e ‘s/ <em>$//‘ example.txt 删除每一行最后的空白字符<br>sed -e ‘s/stringa1//g’ example.txt 从文档中只删除词汇 “string1” 并保留剩余全部<br>sed -n ‘1,5p;5q’ example.txt 查看从第一行到第5行内容<br>sed -n ‘5p;5q’ example.txt 查看第5行<br>sed -e ‘s/00</em>/0/g’ example.txt 用单个零替换多个零<br>cat -n file1 标示文件的行数<br>cat example.txt | awk ‘NR%2==1’ 删除example.txt文件中的所有偶数行<br>echo a b c | awk ‘{print $1}’ 查看一行第一栏<br>echo a b c | awk ‘{print $1,$3}’ 查看一行的第一和第三栏<br>paste file1 file2 合并两个文件或两栏的内容<br>paste -d ‘+’ file1 file2 合并两个文件或两栏的内容，中间用”+”区分<br>sort file1 file2 排序两个文件的内容<br>sort file1 file2 | uniq 取出两个文件的并集(重复的行只保留一份)<br>sort file1 file2 | uniq -u 删除交集，留下其他的行<br>sort file1 file2 | uniq -d 取出两个文件的交集(只留下同时存在于两个文件中的文件)<br>comm -1 file1 file2 比较两个文件的内容只删除 ‘file1’ 所包含的内容<br>comm -2 file1 file2 比较两个文件的内容只删除 ‘file2’ 所包含的内容<br>comm -3 file1 file2 比较两个文件的内容只删除两个文件共有的部分 </p><h1 id="字符设置和文件格式转换"><a href="#字符设置和文件格式转换" class="headerlink" title="字符设置和文件格式转换"></a>字符设置和文件格式转换</h1><p>dos2unix filedos.txt fileunix.txt 将一个文本文件的格式从MSDOS转换成UNIX<br>unix2dos fileunix.txt filedos.txt 将一个文本文件的格式从UNIX转换成MSDOS<br>recode ..HTML &lt; page.txt &gt; page.html 将一个文本文件转换成html<br>recode -l | more 显示所有允许的转换格式 </p><h1 id="文件系统分析"><a href="#文件系统分析" class="headerlink" title="文件系统分析"></a>文件系统分析</h1><p>badblocks -v /dev/hda1 检查磁盘hda1上的坏磁块<br>fsck /dev/hda1 修复/检查hda1磁盘上linux文件系统的完整性<br>fsck.ext2 /dev/hda1 修复/检查hda1磁盘上ext2文件系统的完整性<br>e2fsck /dev/hda1 修复/检查hda1磁盘上ext2文件系统的完整性<br>e2fsck -j /dev/hda1 修复/检查hda1磁盘上ext3文件系统的完整性<br>fsck.ext3 /dev/hda1 修复/检查hda1磁盘上ext3文件系统的完整性<br>fsck.vfat /dev/hda1 修复/检查hda1磁盘上fat文件系统的完整性<br>fsck.msdos /dev/hda1 修复/检查hda1磁盘上dos文件系统的完整性<br>dosfsck /dev/hda1 修复/检查hda1磁盘上dos文件系统的完整性 </p><h1 id="初始化一个文件系统"><a href="#初始化一个文件系统" class="headerlink" title="初始化一个文件系统"></a>初始化一个文件系统</h1><p>mkfs /dev/hda1 在hda1分区创建一个文件系统<br>mke2fs /dev/hda1 在hda1分区创建一个linux ext2的文件系统<br>mke2fs -j /dev/hda1 在hda1分区创建一个linux ext3(日志型)的文件系统<br>mkfs -t vfat 32 -F /dev/hda1 创建一个 FAT32 文件系统<br>fdformat -n /dev/fd0 格式化一个软盘<br>mkswap /dev/hda3 创建一个swap文件系统 </p><h1 id="SWAP文件系统"><a href="#SWAP文件系统" class="headerlink" title="SWAP文件系统"></a>SWAP文件系统</h1><p>mkswap /dev/hda3 创建一个swap文件系统<br>swapon /dev/hda3 启用一个新的swap文件系统<br>swapon /dev/hda2 /dev/hdb3 启用两个swap分区 </p><h1 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h1><p>dump -0aj -f /tmp/home0.bak /home 制作一个 ‘/home’ 目录的完整备份<br>dump -1aj -f /tmp/home0.bak /home 制作一个 ‘/home’ 目录的交互式备份<br>restore -if /tmp/home0.bak 还原一个交互式备份<br>rsync -rogpav –delete /home /tmp 同步两边的目录<br>rsync -rogpav -e ssh –delete /home ip_address:/tmp 通过SSH通道rsync<br>rsync -az -e ssh –delete ip_addr:/home/public /home/local 通过ssh和压缩将一个远程目录同步到本地目录<br>rsync -az -e ssh –delete /home/local ip_addr:/home/public 通过ssh和压缩将本地目录同步到远程目录<br>dd bs=1M if=/dev/hda | gzip | ssh user@ip_addr ‘dd of=hda.gz’ 通过ssh在远程主机上执行一次备份本地磁盘的操作<br>dd if=/dev/sda of=/tmp/file1 备份磁盘内容到一个文件<br>tar -Puf backup.tar /home/user 执行一次对 ‘/home/user’ 目录的交互式备份操作<br>( cd /tmp/local/ &amp;&amp; tar c . ) | ssh -C user@ip_addr ‘cd /home/share/ &amp;&amp; tar x -p’ 通过ssh在远程目录中复制一个目录内容<br>( tar c /home ) | ssh -C user@ip_addr ‘cd /home/backup-home &amp;&amp; tar x -p’ 通过ssh在远程目录中复制一个本地目录<br>tar cf - . | (cd /tmp/backup ; tar xf - ) 本地将一个目录复制到另一个地方，保留原有权限及链接<br>find /home/user1 -name ‘<em>.txt’ | xargs cp -av –target-directory=/home/backup/ –parents 从一个目录查找并复制所有以 ‘.txt’ 结尾的文件到另一个目录<br>find /var/log -name ‘</em>.log’ | tar cv –files-from=- | bzip2 &gt; log.tar.bz2 查找所有以 ‘.log’ 结尾的文件并做成一个bzip包<br>dd if=/dev/hda of=/dev/fd0 bs=512 count=1 做一个将 MBR (Master Boot Record)内容复制到软盘的动作<br>dd if=/dev/fd0 of=/dev/hda bs=512 count=1 从已经保存到软盘的备份中恢复MBR内容 </p><h1 id="光盘"><a href="#光盘" class="headerlink" title="光盘"></a>光盘</h1><p>cdrecord -v gracetime=2 dev=/dev/cdrom -eject blank=fast -force 清空一个可复写的光盘内容<br>mkisofs /dev/cdrom &gt; cd.iso 在磁盘上创建一个光盘的iso镜像文件<br>mkisofs /dev/cdrom | gzip &gt; cd_iso.gz 在磁盘上创建一个压缩了的光盘iso镜像文件<br>mkisofs -J -allow-leading-dots -R -V “Label CD” -iso-level 4 -o ./cd.iso data_cd 创建一个目录的iso镜像文件<br>cdrecord -v dev=/dev/cdrom cd.iso 刻录一个ISO镜像文件<br>gzip -dc cd_iso.gz | cdrecord dev=/dev/cdrom - 刻录一个压缩了的ISO镜像文件<br>mount -o loop cd.iso /mnt/iso 挂载一个ISO镜像文件<br>cd-paranoia -B 从一个CD光盘转录音轨到 wav 文件中<br>cd-paranoia – “-3” 从一个CD光盘转录音轨到 wav 文件中（参数-3）<br>cdrecord –scanbus 扫描总线以识别scsi通道<br>dd if=/dev/hdc | md5sum 校验一个设备的md5sum编码，例如一张 CD </p><h1 id="网络-（以太网和WIFI无线）"><a href="#网络-（以太网和WIFI无线）" class="headerlink" title="网络 - （以太网和WIFI无线）"></a>网络 - （以太网和WIFI无线）</h1><p>ifconfig eth0 显示一个以太网卡的配置<br>ifup eth0 启用一个 ‘eth0’ 网络设备<br>ifdown eth0 禁用一个 ‘eth0’ 网络设备<br>ifconfig eth0 192.168.1.1 netmask 255.255.255.0 控制IP地址<br>ifconfig eth0 promisc 设置 ‘eth0’ 成混杂模式以嗅探数据包 (sniffing)<br>dhclient eth0 以dhcp模式启用 ‘eth0’<br>route -n show routing table<br>route add -net 0/0 gw IP_Gateway configura default gateway<br>route add -net 192.168.0.0 netmask 255.255.0.0 gw 192.168.1.1 configure static route to reach network ‘192.168.0.0/16’<br>route del 0/0 gw IP_gateway remove static route<br>echo “1” &gt; /proc/sys/net/ipv4/ip_forward activate ip routing<br>hostname show hostname of system<br>host <a href="http://www.example.com" target="_blank" rel="noopener">www.example.com</a> lookup hostname to resolve name to ip address and viceversa(1)<br>nslookup <a href="http://www.example.com" target="_blank" rel="noopener">www.example.com</a> lookup hostname to resolve name to ip address and viceversa(2)<br>ip link show show link status of all interfaces<br>mii-tool eth0 show link status of ‘eth0’<br>ethtool eth0 show statistics of network card ‘eth0’<br>netstat -tup show all active network connections and their PID<br>netstat -tupl show all network services listening on the system and their PID<br>tcpdump tcp port 80 show all HTTP traffic<br>iwlist scan show wireless networks<br>iwconfig eth1 show configuration of a wireless network card<br>hostname show hostname<br>host <a href="http://www.example.com" target="_blank" rel="noopener">www.example.com</a> lookup hostname to resolve name to ip address and viceversa<br>nslookup <a href="http://www.example.com" target="_blank" rel="noopener">www.example.com</a> lookup hostname to resolve name to ip address and viceversa<br>whois <a href="http://www.example.com" target="_blank" rel="noopener">www.example.com</a> lookup on Whois database </p><p>GO TOP INDEX ^<br>Microsoft Windows networks (SAMBA)<br>nbtscan ip_addr netbios name resolution<br>nmblookup -A ip_addr netbios name resolution<br>smbclient -L ip_addr/hostname show remote shares of a windows host<br>smbget -Rr smb://ip_addr/share like wget can download files from a host windows via smb<br>mount -t smbfs -o username=user,password=pass //WinClient/share /mnt/share mount a windows network share  </p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;系统信息&quot;&gt;&lt;a href=&quot;#系统信息&quot; class=&quot;headerlink&quot; title=&quot;系统信息&quot;&gt;&lt;/a&gt;系统信息&lt;/h1&gt;&lt;p&gt;arch 显示机器的处理器架构(1)&lt;br&gt;uname -m 显示机器的处理器架构(2)&lt;br&gt;uname -r 显示正在使
      
    
    </summary>
    
      <category term="Linux" scheme="/categories/Linux/"/>
    
    
      <category term="Linux" scheme="/tags/Linux/"/>
    
  </entry>
  
  <entry>
    <title>预览input-file上传的图片</title>
    <link href="/2019/05/23/%E9%A2%84%E8%A7%88input-file%E4%B8%8A%E4%BC%A0%E7%9A%84%E5%9B%BE%E7%89%87/"/>
    <id>/2019/05/23/预览input-file上传的图片/</id>
    <published>2019-05-23T09:05:02.196Z</published>
    <updated>2019-05-23T09:06:29.822Z</updated>
    
    <content type="html"><![CDATA[<h2 id="直接上代码"><a href="#直接上代码" class="headerlink" title="直接上代码"></a>直接上代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">onchange</span>=<span class="string">"display(this)"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"displayImg"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">display</span>(<span class="params">obj</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> file = obj.files[<span class="number">0</span>];</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">            <span class="comment">//注册相关的回调</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//成功后的回调，最重要的一个</span></span></span><br><span class="line"><span class="javascript">            reader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="comment">//展示</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> img = <span class="built_in">document</span>.getElementById(<span class="string">"displayImg"</span>);</span></span><br><span class="line"><span class="undefined">                img.src = e.target.result;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="comment">//读取</span></span></span><br><span class="line"><span class="undefined">            reader.readAsDataURL(file)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;直接上代码&quot;&gt;&lt;a href=&quot;#直接上代码&quot; class=&quot;headerlink&quot; title=&quot;直接上代码&quot;&gt;&lt;/a&gt;直接上代码&lt;/h2&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;
      
    
    </summary>
    
      <category term="JavaScript" scheme="/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>input输入内容，每隔4位空格</title>
    <link href="/2019/05/23/input%E8%BE%93%E5%85%A5%E5%86%85%E5%AE%B9%EF%BC%8C%E6%AF%8F%E9%9A%944%E4%BD%8D%E7%A9%BA%E6%A0%BC/"/>
    <id>/2019/05/23/input输入内容，每隔4位空格/</id>
    <published>2019-05-23T07:49:04.156Z</published>
    <updated>2019-05-23T07:50:18.928Z</updated>
    
    <content type="html"><![CDATA[<h2 id="直接上代码"><a href="#直接上代码" class="headerlink" title="直接上代码"></a>直接上代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">size</span>=<span class="string">"50"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> input = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>)</span></span><br><span class="line"><span class="javascript">        input.onkeydown = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">let</span> val = <span class="keyword">this</span>.value</span></span><br><span class="line"><span class="javascript">            <span class="keyword">this</span>.value = val.replace(<span class="regexp">/\s/g</span>, <span class="string">''</span>).replace(<span class="regexp">/(.&#123;4&#125;)/g</span>, <span class="string">"$1 "</span>);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;直接上代码&quot;&gt;&lt;a href=&quot;#直接上代码&quot; class=&quot;headerlink&quot; title=&quot;直接上代码&quot;&gt;&lt;/a&gt;直接上代码&lt;/h2&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;
      
    
    </summary>
    
      <category term="JavaScript" scheme="/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>js-xlsx 读取、写入Excel表</title>
    <link href="/2019/05/20/js-xlsx%20%E8%AF%BB%E5%8F%96%E3%80%81%E5%86%99%E5%85%A5Excel%E8%A1%A8/"/>
    <id>/2019/05/20/js-xlsx 读取、写入Excel表/</id>
    <published>2019-05-20T07:59:27.474Z</published>
    <updated>2019-05-22T06:01:12.003Z</updated>
    
    <content type="html"><![CDATA[<p>在实际开发中，经常会遇到导入Excel文件的需求，有的产品人想法更多，想要在前端直接判断文件内容格式是否正确，必填项是否已填写</p><p>依据HTML5的FileReader，可以使用新的API打开本地文件（参考<a href="https://www.html5rocks.com/en/tutorials/file/dndfiles/" target="_blank" rel="noopener">这篇文章</a>）</p><ul><li>FileReader.readAsBinaryString(Blob|File)</li><li>FileReader.readAsText(Blob|File, opt_encoding)</li><li>FileReader.readAsDataURL(Blob|File)</li><li>FileReader.readAsArrayBuffer(Blob|File)</li></ul><p>通过 readAsBinaryString 虽然能打开二进制文件（<em>.pdf、</em>.doc、*.xls等），但如若要直接通过JS进行判断这些二进制数据是否符合要求，是不行的</p><p>所以就需要转换，对于Excel文件的内容分析转换，已经有了比较成熟的解决方案：<a href="https://github.com/SheetJS/js-xlsx" target="_blank" rel="noopener">js-xlsx </a></p><p>其实现方式也用到了上述新特性，看看具体要怎么用</p><h1 id="读取excel表"><a href="#读取excel表" class="headerlink" title="读取excel表"></a>读取excel表</h1><p><strong>1. 首先定义一个文件上传项</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"excel-file"</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>2. 下载js-xlsx的相应的 xlsx.core.min.js 文件后引入</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"xlsx.core.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>3. 监听文件选择，即时打开文件获取表格内容</strong></p><p>使用XLSX.utils.sheet_to_json方法解析表格对象返回相应的JSON数据</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#excel-file'</span>).change(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> files = e.target.files;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> fileReader = <span class="keyword">new</span> FileReader();</span><br><span class="line">            fileReader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">var</span> data = ev.target.result,</span><br><span class="line">                        workbook = XLSX.read(data, &#123;</span><br><span class="line">                            type: <span class="string">'binary'</span></span><br><span class="line">                        &#125;), <span class="comment">// 以二进制流方式读取得到整份excel表格对象</span></span><br><span class="line">                        persons = []; <span class="comment">// 存储获取到的数据</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                    <span class="built_in">console</span>.log(<span class="string">'文件类型不正确'</span>);</span><br><span class="line">                    <span class="keyword">return</span>;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 表格的表格范围，可用于判断表头是否数量是否正确</span></span><br><span class="line">                <span class="keyword">var</span> fromTo = <span class="string">''</span>;</span><br><span class="line">                <span class="comment">// 遍历每张表读取</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> sheet <span class="keyword">in</span> workbook.Sheets) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (workbook.Sheets.hasOwnProperty(sheet)) &#123;</span><br><span class="line">                        fromTo = workbook.Sheets[sheet][<span class="string">'!ref'</span>];</span><br><span class="line">                        <span class="built_in">console</span>.log(fromTo);</span><br><span class="line">                        persons = persons.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet]));</span><br><span class="line">                        <span class="comment">// break; // 如果只取第一张表，就取消注释这行</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">console</span>.log(persons);</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 以二进制方式打开文件</span></span><br><span class="line">            fileReader.readAsBinaryString(files[<span class="number">0</span>]);</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure><p>上述代码只是简单地获取表格文件的内容，如果要判断，还得根据实际加上一些判断逻辑</p><p>js-xlsx只能读取相关的文件，否则会报错</p><p><strong>4. 表格文件内容</strong></p><p>使用一个excel表格，定义了三张表</p><p>1</p><p>2</p><p>3</p><p><strong>5. 查看获取到的数据</strong></p><p>红框部分为三个表项的不同之处，看看代码执行之后的结果：</p><p>4</p><p>第一个红框是每张表的数据范围，由于js-xlsx这个库自身的问题，它是不会直接获取到表头数据保存起来的，而是直接把表头放到最末级的内容对象里面</p><p>可自行逐级看看读取到的表格workbook对象内容：</p><p>5</p><p>如果要判断表头的数量，就需要使用到!ref属性</p><p>在excel文件中，A1:D3中的字母指代列待号，紧接其后的数字指代行号，所以判断表头数量，即为判断列号数量</p><p>比如第一张表有四个表头，所以为A-D;第三张表有五个表头，所以为A-E，如</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (fromTo[<span class="number">0</span>] === <span class="string">'A'</span> &amp;&amp; fromTo[<span class="number">3</span>] === <span class="string">'D'</span>) &#123;</span><br><span class="line">     excelIsOk = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这只是单单判断表头数量，还得判断表头内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(persons);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> headStr = <span class="string">'姓名,性别,年龄,学校'</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; persons.length; i++) &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">Object</span>.keys(persons[i]).join(<span class="string">','</span>) !== headStr) &#123;</span><br><span class="line">persons.splice(i, <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(persons);</span><br></pre></td></tr></table></figure><p>6</p><p>可以看到，倒数第二项的JSON数据，因为表头内容不匹配，被过滤掉了</p><p>这里还得注意的是最后一项，虽然有个表头，但因为没有内容，所以得到的JSON是符合要求的，所以就需要用到那个!ref属性来共同判断表格是否符合要求</p><p>7</p><p><strong>6. 其他</strong></p><p>除此之外，还有更多用法如XLSX.readFile、XLSX.writeFile等，具体就看看<a href="https://github.com/SheetJS/js-xlsx" target="_blank" rel="noopener">官方文档</a>吧</p><h2 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h2><p><strong>版本1：</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./xlsx.core.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">onchange</span>=<span class="string">"importf(this)"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> rABS = <span class="literal">false</span>; <span class="comment">//是否将文件读取为二进制字符串</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">importf</span>(<span class="params">obj</span>) </span>&#123; <span class="comment">//导入</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">if</span> (!obj.files) &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> f = obj.files[<span class="number">0</span>]; &#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> reader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> name = f.name;</span></span><br><span class="line"><span class="javascript">                reader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> data = e.target.result;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> wb;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (rABS) &#123;</span></span><br><span class="line"><span class="undefined">                        wb = XLSX.read(data, &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'binary'</span></span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="javascript">                    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="keyword">var</span> arr = fixdata(data);</span></span><br><span class="line"><span class="undefined">                        wb = XLSX.read(btoa(arr), &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'base64'</span></span></span><br><span class="line"><span class="undefined">                        &#125;);</span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="javascript">                    <span class="comment">// 结果json输出</span></span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(XLSX.utils.sheet_to_json(wb.Sheets[wb.SheetNames[<span class="number">0</span>]]));</span></span><br><span class="line"><span class="undefined">                &#125;;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">if</span> (rABS) reader.readAsBinaryString(f);</span></span><br><span class="line"><span class="javascript">                <span class="keyword">else</span> reader.readAsArrayBuffer(f);</span></span><br><span class="line"><span class="undefined">            &#125;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">fixdata</span>(<span class="params">data</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> o = <span class="string">""</span>,</span></span><br><span class="line"><span class="undefined">                l = 0,</span></span><br><span class="line"><span class="undefined">                w = 10240;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">for</span> (; l &lt; data.byteLength / w; ++l) o += <span class="built_in">String</span>.fromCharCode.apply(<span class="literal">null</span>, <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(data.slice(l * w,</span></span><br><span class="line"><span class="undefined">                l * w + w)));</span></span><br><span class="line"><span class="javascript">            o += <span class="built_in">String</span>.fromCharCode.apply(<span class="literal">null</span>, <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(data.slice(l * w)));</span></span><br><span class="line"><span class="javascript">            <span class="keyword">return</span> o;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>版本2</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"./xlsx.core.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"excel-file"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> file = <span class="built_in">document</span>.querySelector(<span class="string">'input'</span>)</span></span><br><span class="line"><span class="javascript">        file.onchange = <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> files = e.target.files;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> fileReader = <span class="keyword">new</span> FileReader();</span></span><br><span class="line"><span class="javascript">            fileReader.onload = <span class="function"><span class="keyword">function</span> (<span class="params">ev</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">var</span> data = ev.target.result,</span></span><br><span class="line"><span class="undefined">                        workbook = XLSX.read(data, &#123;</span></span><br><span class="line"><span class="javascript">                            type: <span class="string">'binary'</span></span></span><br><span class="line"><span class="javascript">                        &#125;), <span class="comment">// 以二进制流方式读取得到整份excel表格对象</span></span></span><br><span class="line"><span class="javascript">                        persons = []; <span class="comment">// 存储获取到的数据</span></span></span><br><span class="line"><span class="javascript">                &#125; <span class="keyword">catch</span> (e) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(<span class="string">'文件类型不正确'</span>);</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">return</span>;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">                <span class="comment">// 表格的表格范围，可用于判断表头是否数量是否正确</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">var</span> fromTo = <span class="string">''</span>;</span></span><br><span class="line"><span class="javascript">                <span class="comment">// 遍历每张表读取</span></span></span><br><span class="line"><span class="javascript">                <span class="keyword">for</span> (<span class="keyword">var</span> sheet <span class="keyword">in</span> workbook.Sheets) &#123;</span></span><br><span class="line"><span class="javascript">                    <span class="keyword">if</span> (workbook.Sheets.hasOwnProperty(sheet)) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// fromTo = workbook.Sheets[sheet]['!ref'] = 'A2:C4'    设置取值范围</span></span></span><br><span class="line"><span class="javascript">                        fromTo = workbook.Sheets[sheet][<span class="string">'!ref'</span>] = <span class="string">'A2:C100'</span></span></span><br><span class="line"><span class="undefined">                        persons = persons.concat(XLSX.utils.sheet_to_json(workbook.Sheets[sheet]));</span></span><br><span class="line"><span class="javascript">                        <span class="comment">// break; // 如果只取第一张表，就取消注释这行</span></span></span><br><span class="line"><span class="undefined">                    &#125;</span></span><br><span class="line"><span class="undefined">                &#125;</span></span><br><span class="line"><span class="javascript">                <span class="built_in">console</span>.log(persons);</span></span><br><span class="line"><span class="undefined">            &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="comment">// 以二进制方式打开文件</span></span></span><br><span class="line"><span class="undefined">            fileReader.readAsBinaryString(files[0]);</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="导出excel表"><a href="#导出excel表" class="headerlink" title="导出excel表"></a>导出excel表</h1><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"ie=edge"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">onclick</span>=<span class="string">"downloadExl(jsonDate)"</span>&gt;</span>导出<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"./xlsx.core.min.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--调用FileSaver saveAs函数可以实现文件下载--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;script src="http://sheetjs.com/demos/Blob.js"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="comment">    &lt;script src="http://sheetjs.com/demos/FileSaver.js"&gt;&lt;/script&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="comment">//如果使用 FileSaver.js 就不要同时使用以下函数</span></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">saveAs</span>(<span class="params">obj, fileName</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//当然可以自定义简单的下载文件实现方式</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> tmpa = <span class="built_in">document</span>.createElement(<span class="string">"a"</span>);</span></span><br><span class="line"><span class="javascript">        tmpa.download = fileName || <span class="string">"下载"</span>;</span></span><br><span class="line"><span class="javascript">        tmpa.href = URL.createObjectURL(obj); <span class="comment">//绑定a标签</span></span></span><br><span class="line"><span class="javascript">        tmpa.click(); <span class="comment">//模拟点击实现下载</span></span></span><br><span class="line"><span class="javascript">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//延时释放</span></span></span><br><span class="line"><span class="javascript">          URL.revokeObjectURL(obj); <span class="comment">//用URL.revokeObjectURL()来释放这个object URL</span></span></span><br><span class="line"><span class="undefined">        &#125;, 100);</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> jsonDate = [</span></span><br><span class="line"><span class="undefined">        &#123;</span></span><br><span class="line"><span class="javascript">          <span class="comment">//测试数据</span></span></span><br><span class="line"><span class="javascript">          <span class="string">"保质期临期预警(天)"</span>: <span class="string">"adventLifecycle"</span>,</span></span><br><span class="line"><span class="javascript">          商品标题: <span class="string">"title"</span>,</span></span><br><span class="line"><span class="javascript">          建议零售价: <span class="string">"defaultPrice"</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">"高(cm)"</span>: <span class="string">"height"</span>,</span></span><br><span class="line"><span class="javascript">          商品描述: <span class="string">"Description"</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">"保质期禁售(天)"</span>: <span class="string">"lockupLifecycle"</span>,</span></span><br><span class="line"><span class="javascript">          商品名称: <span class="string">"skuName"</span>,</span></span><br><span class="line"><span class="javascript">          商品简介: <span class="string">"brief"</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">"宽(cm)"</span>: <span class="string">"width"</span>,</span></span><br><span class="line"><span class="javascript">          阿达: <span class="string">"asdz"</span>,</span></span><br><span class="line"><span class="javascript">          货号: <span class="string">"goodsNo"</span>,</span></span><br><span class="line"><span class="javascript">          商品条码: <span class="string">"skuNo"</span>,</span></span><br><span class="line"><span class="javascript">          商品品牌: <span class="string">"brand"</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">"净容积(cm^3)"</span>: <span class="string">"netVolume"</span>,</span></span><br><span class="line"><span class="javascript">          是否保质期管理: <span class="string">"isShelfLifeMgmt"</span>,</span></span><br><span class="line"><span class="javascript">          是否串号管理: <span class="string">"isSNMgmt"</span>,</span></span><br><span class="line"><span class="javascript">          商品颜色: <span class="string">"color"</span>,</span></span><br><span class="line"><span class="javascript">          尺码: <span class="string">"size"</span>,</span></span><br><span class="line"><span class="javascript">          是否批次管理: <span class="string">"isBatchMgmt"</span>,</span></span><br><span class="line"><span class="javascript">          商品编号: <span class="string">"skuCode"</span>,</span></span><br><span class="line"><span class="javascript">          商品简称: <span class="string">"shortName"</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">"毛重(g)"</span>: <span class="string">"grossWeight"</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">"长(cm)"</span>: <span class="string">"length"</span>,</span></span><br><span class="line"><span class="javascript">          英文名称: <span class="string">"englishName"</span>,</span></span><br><span class="line"><span class="javascript">          <span class="string">"净重(g)"</span>: <span class="string">"netWeight"</span>,</span></span><br><span class="line"><span class="javascript">          商品分类: <span class="string">"categoryId"</span>,</span></span><br><span class="line"><span class="undefined">          这里超过了: 1111.0,</span></span><br><span class="line"><span class="javascript">          <span class="string">"保质期(天)"</span>: <span class="string">"expDate"</span></span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">      ];</span></span><br><span class="line"><span class="javascript">      <span class="comment">// 定义导出的格式类型</span></span></span><br><span class="line"><span class="javascript">       <span class="keyword">const</span> wopts = &#123; <span class="attr">bookType</span>: <span class="string">'csv'</span>, <span class="attr">bookSST</span>: <span class="literal">false</span>, <span class="attr">type</span>: <span class="string">'binary'</span> &#125;;<span class="comment">//ods</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const wopts = &#123; bookType: "xlsx", bookSST: false, type: "binary" &#125;; //xlsx</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const wopts = &#123; bookType: 'ods', bookSST: false, type: 'binary' &#125;;//ods</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const wopts = &#123; bookType: 'xlsb', bookSST: false, type: 'binary' &#125;;//xlsb</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const wopts = &#123; bookType: 'fods', bookSST: false, type: 'binary' &#125;;//fods</span></span></span><br><span class="line"><span class="javascript">      <span class="comment">// const wopts = &#123; bookType: "biff2", bookSST: false, type: "binary" &#125;; //xls</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">downloadExl</span>(<span class="params">data, type</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">const</span> wb = &#123; <span class="attr">SheetNames</span>: [<span class="string">"Sheet1"</span>], <span class="attr">Sheets</span>: &#123;&#125;, <span class="attr">Props</span>: &#123;&#125; &#125;;</span></span><br><span class="line"><span class="javascript">        wb.Sheets[<span class="string">"Sheet1"</span>] = XLSX.utils.json_to_sheet(data); <span class="comment">//通过json_to_sheet转成单页(Sheet)数据</span></span></span><br><span class="line"><span class="undefined">        saveAs(</span></span><br><span class="line"><span class="javascript">          <span class="keyword">new</span> Blob([s2ab(XLSX.write(wb, wopts))], &#123;</span></span><br><span class="line"><span class="javascript">            type: <span class="string">"application/octet-stream"</span></span></span><br><span class="line"><span class="undefined">          &#125;),</span></span><br><span class="line"><span class="javascript">          <span class="string">`<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>().getTime()&#125;</span>`</span> +</span></span><br><span class="line"><span class="javascript">            <span class="string">"."</span> +</span></span><br><span class="line"><span class="javascript">            (wopts.bookType == <span class="string">"biff2"</span> ? <span class="string">"xls"</span> : wopts.bookType)</span></span><br><span class="line"><span class="undefined">        );</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="javascript">      <span class="function"><span class="keyword">function</span> <span class="title">s2ab</span>(<span class="params">s</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">ArrayBuffer</span> !== <span class="string">"undefined"</span>) &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> buf = <span class="keyword">new</span> <span class="built_in">ArrayBuffer</span>(s.length);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> view = <span class="keyword">new</span> <span class="built_in">Uint8Array</span>(buf);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i != s.length; ++i) view[i] = s.charCodeAt(i) &amp; <span class="number">0xff</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> buf;</span></span><br><span class="line"><span class="javascript">        &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">var</span> buf = <span class="keyword">new</span> <span class="built_in">Array</span>(s.length);</span></span><br><span class="line"><span class="javascript">          <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i != s.length; ++i) buf[i] = s.charCodeAt(i) &amp; <span class="number">0xff</span>;</span></span><br><span class="line"><span class="javascript">          <span class="keyword">return</span> buf;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h1 id="在vue中使用"><a href="#在vue中使用" class="headerlink" title="在vue中使用"></a>在vue中使用</h1><p>npm i xlsx</p><blockquote><p>自定义组件</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">"read"</span>&gt;</span><br><span class="line">    上传文件</span><br><span class="line">    &lt;input type=<span class="string">"file"</span> name=<span class="string">"file"</span> id=<span class="string">"file"</span>&gt;</span><br><span class="line">  &lt;<span class="regexp">/div&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">import</span> XLSX <span class="keyword">from</span> <span class="string">'xlsx'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  methods: &#123;</span><br><span class="line">    init() &#123;</span><br><span class="line">      <span class="keyword">let</span> read = <span class="built_in">document</span>.querySelector(<span class="string">'.read'</span>)</span><br><span class="line">      <span class="keyword">let</span> file = <span class="built_in">document</span>.querySelector(<span class="string">'#file'</span>)</span><br><span class="line">      <span class="keyword">let</span> that = <span class="keyword">this</span></span><br><span class="line">      read.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        file.click()</span><br><span class="line">      &#125;</span><br><span class="line">      file.onchange = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> files = e.target.files</span><br><span class="line">        <span class="keyword">var</span> fileReader = <span class="keyword">new</span> FileReader()</span><br><span class="line">        fileReader.onload = <span class="function"><span class="keyword">function</span>(<span class="params">ev</span>) </span>&#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">var</span> data = ev.target.result,</span><br><span class="line">              workbook = XLSX.read(data, &#123;</span><br><span class="line">                type: <span class="string">'binary'</span></span><br><span class="line">              &#125;), <span class="comment">// 以二进制流方式读取得到整份excel表格对象</span></span><br><span class="line">              persons = [] <span class="comment">// 存储获取到的数据</span></span><br><span class="line">          &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">            alert(<span class="string">'文件类型不正确'</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="comment">// 表格的表格范围，可用于判断表头是否数量是否正确</span></span><br><span class="line">          <span class="keyword">var</span> fromTo = <span class="string">''</span></span><br><span class="line">          <span class="comment">// 遍历每张表读取</span></span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">var</span> sheet <span class="keyword">in</span> workbook.Sheets) &#123;</span><br><span class="line">            <span class="keyword">if</span> (workbook.Sheets.hasOwnProperty(sheet)) &#123;</span><br><span class="line">              <span class="comment">// fromTo = workbook.Sheets[sheet]['!ref'] = 'A2:C4'    设置取值范围</span></span><br><span class="line">              fromTo = workbook.Sheets[sheet][<span class="string">'!ref'</span>] = <span class="string">'A2:C100'</span></span><br><span class="line">              persons = persons.concat(</span><br><span class="line">                XLSX.utils.sheet_to_json(workbook.Sheets[sheet])</span><br><span class="line">              )</span><br><span class="line">              <span class="comment">// break; // 如果只取第一张表，就取消注释这行</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="comment">//   console.log(persons)</span></span><br><span class="line">          that.$emit(<span class="string">'result'</span>, persons)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 以二进制方式打开文件</span></span><br><span class="line">        fileReader.readAsBinaryString(files[<span class="number">0</span>])</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="keyword">this</span>.init()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp">&lt;style lang="scss" scoped&gt;</span></span><br><span class="line"><span class="regexp">.read &#123;</span></span><br><span class="line"><span class="regexp">  width: 500px;</span></span><br><span class="line"><span class="regexp">  height: 50px;</span></span><br><span class="line"><span class="regexp">  line-height: 50px;</span></span><br><span class="line"><span class="regexp">  background: red;</span></span><br><span class="line"><span class="regexp">  text-align: center;</span></span><br><span class="line"><span class="regexp">  user-select: none;</span></span><br><span class="line"><span class="regexp">  cursor: pointer;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">  #file &#123;</span></span><br><span class="line"><span class="regexp">    display: none;</span></span><br><span class="line"><span class="regexp">  &#125;</span></span><br><span class="line"><span class="regexp">&#125;</span></span><br><span class="line"><span class="regexp">&lt;/</span>style&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;在实际开发中，经常会遇到导入Excel文件的需求，有的产品人想法更多，想要在前端直接判断文件内容格式是否正确，必填项是否已填写&lt;/p&gt;
&lt;p&gt;依据HTML5的FileReader，可以使用新的API打开本地文件（参考&lt;a href=&quot;https://www.html5roc
      
    
    </summary>
    
      <category term="JavaScript" scheme="/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>exports与export的区别</title>
    <link href="/2019/05/20/exports%E4%B8%8Eexport%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>/2019/05/20/exports与export的区别/</id>
    <published>2019-05-20T07:09:41.895Z</published>
    <updated>2019-05-20T07:11:43.847Z</updated>
    
    <content type="html"><![CDATA[<h4 id="首先我们要明白一个前提，CommonJS模块规范和ES6模块规范完全是两种不同的概念。"><a href="#首先我们要明白一个前提，CommonJS模块规范和ES6模块规范完全是两种不同的概念。" class="headerlink" title="首先我们要明白一个前提，CommonJS模块规范和ES6模块规范完全是两种不同的概念。"></a>首先我们要明白一个前提，CommonJS模块规范和ES6模块规范完全是两种不同的概念。</h4><h2 id="CommonJS模块规范"><a href="#CommonJS模块规范" class="headerlink" title="CommonJS模块规范"></a>CommonJS模块规范</h2><p><strong>Node</strong>应用由模块组成，采用CommonJS模块规范。</p><p>根据这个规范，每个文件就是一个模块，有自己的作用域。在一个文件里面定义的变量、函数、类，都是私有的，对其他文件不可见。</p><p>CommonJS规范规定，每个模块内部，module变量代表当前模块。这个变量是一个对象，它的exports属性（即module.exports）是对外的接口。加载某个模块，其实是加载该模块的module.exports属性。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> addX = <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> value + x;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">module</span>.exports.x = x;</span><br><span class="line"><span class="built_in">module</span>.exports.addX = addX;</span><br></pre></td></tr></table></figure><p>上面代码通过module.exports输出变量x和函数addX。</p><p>require方法用于加载模块。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> example = <span class="built_in">require</span>(<span class="string">'./example.js'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(example.x); <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(example.addX(<span class="number">1</span>)); <span class="comment">// 6</span></span><br></pre></td></tr></table></figure><h3 id="exports-与-module-exports"><a href="#exports-与-module-exports" class="headerlink" title="exports 与 module.exports"></a>exports 与 module.exports</h3><p>为了方便，Node为每个模块提供一个exports变量，指向module.exports。这等同在每个模块头部，有一行这样的命令。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> exports = <span class="built_in">module</span>.exports;</span><br></pre></td></tr></table></figure><p>于是我们可以直接在 exports 对象上添加方法，表示对外输出的接口，如同在module.exports上添加一样。注意，不能直接将exports变量指向一个值，因为这样等于切断了exports与module.exports的联系。</p><h2 id="ES6模块规范"><a href="#ES6模块规范" class="headerlink" title="ES6模块规范"></a>ES6模块规范</h2><p>不同于CommonJS，ES6使用 export 和 import 来导出、导入模块。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// profile.js</span></span><br><span class="line"><span class="keyword">var</span> firstName = <span class="string">'Michael'</span>;</span><br><span class="line"><span class="keyword">var</span> lastName = <span class="string">'Jackson'</span>;</span><br><span class="line"><span class="keyword">var</span> year = <span class="number">1958</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;firstName, lastName, year&#125;;</span><br></pre></td></tr></table></figure><p>需要特别注意的是，export命令规定的是对外的接口，必须与模块内部的变量建立一一对应关系。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写法一</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">var</span> m = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法二</span></span><br><span class="line"><span class="keyword">var</span> m = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;m&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 写法三</span></span><br><span class="line"><span class="keyword">var</span> n = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">export</span> &#123;n <span class="keyword">as</span> m&#125;;</span><br></pre></td></tr></table></figure><h3 id="export-default-命令"><a href="#export-default-命令" class="headerlink" title="export default 命令"></a>export default 命令</h3><p>使用export default命令，为模块指定默认输出。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// export-default.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;首先我们要明白一个前提，CommonJS模块规范和ES6模块规范完全是两种不同的概念。&quot;&gt;&lt;a href=&quot;#首先我们要明白一个前提，CommonJS模块规范和ES6模块规范完全是两种不同的概念。&quot; class=&quot;headerlink&quot; title=&quot;首先我们要明
      
    
    </summary>
    
      <category term="JavaScript" scheme="/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>Vue接入腾讯防水墙</title>
    <link href="/2019/05/17/Vue%E6%8E%A5%E5%85%A5%E8%85%BE%E8%AE%AF%E9%98%B2%E6%B0%B4%E5%A2%99/"/>
    <id>/2019/05/17/Vue接入腾讯防水墙/</id>
    <published>2019-05-17T06:00:57.464Z</published>
    <updated>2019-05-22T02:31:47.315Z</updated>
    
    <content type="html"><![CDATA[<h1 id="在created中引入JS"><a href="#在created中引入JS" class="headerlink" title="在created中引入JS"></a>在created中引入JS</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">  created() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.TencentCaptcha === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> ele = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">      ele.src = <span class="string">'https://ssl.captcha.qq.com/TCaptcha.js'</span></span><br><span class="line">      <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(ele)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 如需要前端提供用户IP</span></span><br><span class="line">  created() &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">window</span>.TencentCaptcha === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="keyword">let</span> txCaptcha = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">      txCaptcha.src = <span class="string">'https://ssl.captcha.qq.com/TCaptcha.js'</span></span><br><span class="line">      <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(txCaptcha)</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> souhuIP = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>)</span><br><span class="line">      souhuIP.src = <span class="string">'http://pv.sohu.com/cityjson?ie=utf-8'</span></span><br><span class="line">      <span class="built_in">document</span>.getElementsByTagName(<span class="string">'head'</span>)[<span class="number">0</span>].appendChild(souhuIP)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">// 使用</span></span><br><span class="line"><span class="keyword">this</span>.ip: returnCitySN[<span class="string">'cip'</span>],</span><br></pre></td></tr></table></figure><h1 id="在methods中写入方法"><a href="#在methods中写入方法" class="headerlink" title="在methods中写入方法"></a>在methods中写入方法</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">login() &#123;</span><br><span class="line">  <span class="keyword">var</span> captcha = <span class="keyword">new</span> TencentCaptcha(<span class="string">'AppID'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">res</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// res（未通过验证）= &#123;ret: 1, ticket: null&#125;</span></span><br><span class="line">    <span class="comment">// res（验证成功） = &#123;ret: 0, ticket: "String", randstr: "String"&#125;</span></span><br><span class="line">    <span class="keyword">if</span> (res.ret === <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="comment">//票据</span></span><br><span class="line">      <span class="comment">//alert(res.ticket)</span></span><br><span class="line">      <span class="comment">//随机串</span></span><br><span class="line">      <span class="comment">//alert(res.randstr)</span></span><br><span class="line">      <span class="comment">// submitForm()</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="comment">// 显示验证码</span></span><br><span class="line">  captcha.show()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;在created中引入JS&quot;&gt;&lt;a href=&quot;#在created中引入JS&quot; class=&quot;headerlink&quot; title=&quot;在created中引入JS&quot;&gt;&lt;/a&gt;在created中引入JS&lt;/h1&gt;&lt;figure class=&quot;highlight java
      
    
    </summary>
    
      <category term="Vue" scheme="/categories/Vue/"/>
    
    
      <category term="Vue" scheme="/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>前端文件下载方式总结</title>
    <link href="/2019/05/16/%E5%89%8D%E7%AB%AF%E6%96%87%E4%BB%B6%E4%B8%8B%E8%BD%BD%E6%96%B9%E5%BC%8F%E6%80%BB%E7%BB%93/"/>
    <id>/2019/05/16/前端文件下载方式总结/</id>
    <published>2019-05-16T08:50:57.029Z</published>
    <updated>2019-05-25T03:41:35.808Z</updated>
    
    <content type="html"><![CDATA[<ul><li>api没有任何验证，访问即可下载</li><li>api有验证： <ul><li>通过 header 进行验证</li><li>通过 cookie 进行验证</li></ul></li></ul><p>接下来我会针对这三种方式来展示我spike得到的解决方案。</p><h4 id="api-没有任何验证"><a href="#api-没有任何验证" class="headerlink" title="api 没有任何验证"></a>api 没有任何验证</h4><ul><li>可以直接通过访问该url进行下载，即：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;download url&#125;"</span>&gt;</span>download<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>使用 download 属性（貌似是html5的新特性），会直接进行文件的下载：</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&#123;download url&#125;"</span> <span class="attr">download</span>=<span class="string">"&#123;default name&#125;"</span>&gt;</span>download<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>  还有一个稍微绕一点的方法（其实是一个东西）：</p>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">element.href = URL.createObjectURL(&#123;download url&#125;);</span><br><span class="line">element.download = <span class="string">'route.xls'</span>;</span><br><span class="line">element.click();</span><br></pre></td></tr></table></figure><h4 id="api-使用-header-进行验证"><a href="#api-使用-header-进行验证" class="headerlink" title="api 使用 header 进行验证"></a>api 使用 header 进行验证</h4><p>说一点题外话，这个还是花了我一些时间去搞得，因为一提到在前端进行文件下载，很多人提供的解决方案都是没有验证中的第一种。然而目前这种方式并不提供添加 header 功能，所以 html 提供的 download 新特性没法使用。</p><p>可以先将文件下载拆解成两个步骤：</p><ol><li>获取文件内容</li><li>将文件进行保存</li></ol><p>step 1 肯定是可行，只需要发送request请求，带上header就可以很好的得到文件内容。<br> step 2 有一个问题，如何保存文件。由于web端无法直接将文件写到用户的磁盘上，需要通过浏览器来进行。可以使用的一个方法就是上边提到过的那个稍微绕一点的方法的修改版： 将文件写到一个Blob中，然后为这个Blob创建一个新的页面，进入到这个页面，就会进行下载。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> element = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line"><span class="keyword">const</span> file = <span class="keyword">new</span> Blob([data]);</span><br><span class="line">element.href = URL.createObjectURL(file);</span><br><span class="line">element.download = <span class="string">'route.xls'</span>;</span><br><span class="line">element.click();</span><br></pre></td></tr></table></figure><h4 id="api-使用-cookie-进行验证"><a href="#api-使用-cookie-进行验证" class="headerlink" title="api 使用 cookie 进行验证"></a>api 使用 cookie 进行验证</h4><p>这个我还没有进行了解过。。。看到过有人说，如果食用cookie验证的话，前端的实现就同没有验证的实现是相同的。由于我并不了解，不多说。。。。</p><h4 id="坑"><a href="#坑" class="headerlink" title="坑"></a>坑</h4><p>这里记录一下我踩过的大坑。我在获取文件内容的时候使用了一个第三方库，我在之前使用的时候获取到的json都是没有问题的，但是这个库在发送request的时候如果没有设置encoding，会自动将获取的内容转码，这个是事先我不知道的。所以保存下来的文件一直都是乱码。</p><p>一个教训就是，在传送像文件这种流的数据（只要不是string的数据），最好不要使用第三方库，而是使用比较原生的方法会比较好。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;api没有任何验证，访问即可下载&lt;/li&gt;
&lt;li&gt;api有验证： &lt;ul&gt;
&lt;li&gt;通过 header 进行验证&lt;/li&gt;
&lt;li&gt;通过 cookie 进行验证&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;接下来我会针对这三种方式来展示我spike得到
      
    
    </summary>
    
      <category term="前端" scheme="/categories/%E5%89%8D%E7%AB%AF/"/>
    
    
      <category term="前端" scheme="/tags/%E5%89%8D%E7%AB%AF/"/>
    
  </entry>
  
  <entry>
    <title>Vue - 基础</title>
    <link href="/2019/05/16/Vue%20-%20%E5%9F%BA%E7%A1%80/"/>
    <id>/2019/05/16/Vue - 基础/</id>
    <published>2019-05-16T08:50:56.998Z</published>
    <updated>2019-05-18T05:44:02.069Z</updated>
    
    <content type="html"><![CDATA[<h1 id="md格式有问题，需要整理"><a href="#md格式有问题，需要整理" class="headerlink" title="md格式有问题，需要整理"></a>md格式有问题，需要整理</h1>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;md格式有问题，需要整理&quot;&gt;&lt;a href=&quot;#md格式有问题，需要整理&quot; class=&quot;headerlink&quot; title=&quot;md格式有问题，需要整理&quot;&gt;&lt;/a&gt;md格式有问题，需要整理&lt;/h1&gt;
      
    
    </summary>
    
      <category term="Vue" scheme="/categories/Vue/"/>
    
    
      <category term="Vue" scheme="/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>mock.js+easyMock</title>
    <link href="/2019/05/16/mock.js+easyMock/"/>
    <id>/2019/05/16/mock.js+easyMock/</id>
    <published>2019-05-16T08:50:56.842Z</published>
    <updated>2019-05-18T05:04:21.043Z</updated>
    
    <content type="html"><![CDATA[<h1 id="mock和easymock"><a href="#mock和easymock" class="headerlink" title="mock和easymock"></a>mock和easymock</h1><h3 id="WHY-mock-js"><a href="#WHY-mock-js" class="headerlink" title="WHY? mock.js"></a>WHY? <a href="http://mockjs.com/" target="_blank" rel="noopener">mock.js</a></h3><p>  <img src="https://live.staticflickr.com/65535/47872713731_ff131dd808_z.jpg" alt="mockjs"></p><h3 id="and-easymock"><a href="#and-easymock" class="headerlink" title="and easymock"></a>and <a href="https://www.easy-mock.com/" target="_blank" rel="noopener">easymock</a></h3><p>  <img src="https://live.staticflickr.com/65535/47820482612_ed90e43579_z.jpg" alt="easymock"></p><p>  <strong>对于全端开发工程师在与后台同学协同开发的时候会遇到问题</strong>: <em>(问号脸)后台接口都没有,请求个吉尔?</em><br>  我们只能使用比如Apache/node等后台语言搭建一个服务器,再加上Mysql数据库加上可视化Navicat,给我们提供数据服务. <strong>很烦</strong>,因为我们要模拟假数据表,关联数据库,测试运行后台服务并解决跨域等问题,然后才能做 <strong>前端开发</strong>,很难受,假如<strong>有一款在线工具能按照我们的接口文档咔咔往上整数据,然后发送的ajax请求都能响应且数据格式正确</strong>, 这就很舒服 ,最好<strong>能和Vue等主流框架配合使用</strong>那就更舒服了(<code>到vue再说</code>).</p><p><strong>面试装逼:</strong> <em>Mock.js</em>是一款前端开发中拦截Ajax请求再生成随机数据响应的工具.可以用来模拟服务器响应. 优点是非常简单方便, 无侵入性, 基本覆盖常用的接口数据类型.</p><hr><hr><h2 id="思考-提个简单的开发需求"><a href="#思考-提个简单的开发需求" class="headerlink" title="思考: 提个简单的开发需求:"></a>思考: 提个简单的开发需求:</h2>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">请求后台某个接口,返回<span class="number">10</span><span class="number">-15</span>条学生数据: 要求包含 姓名,年龄,性别. 成功状态码:<span class="number">200</span> .成功状态信息: success.</span><br><span class="line"></span><br><span class="line"><span class="string">`响应数据结构分析:`</span></span><br><span class="line">&#123;</span><br><span class="line">  status:<span class="number">200</span>,</span><br><span class="line">  msg:<span class="string">'success'</span>,</span><br><span class="line">  stuInfo:</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">'abc'</span>,</span><br><span class="line">      age:<span class="number">10</span>,</span><br><span class="line">      gender:<span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">    ,</span><br><span class="line">    ...</span><br><span class="line">    ,</span><br><span class="line">    &#123;</span><br><span class="line">      name:<span class="string">'abc'</span>,</span><br><span class="line">      age:<span class="number">10</span>,</span><br><span class="line">      gender:<span class="number">0</span></span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line"><span class="string">`方法1: 模拟后台(node/php + mysql)`</span></span><br><span class="line">  <span class="number">1</span>,搭建node服务器/Apache服务器 </span><br><span class="line">  <span class="number">2</span>,开启Mysql服务, 制定数据库,数据表,添加表信息(添加姓名,年龄,性别的值 和 值类型)</span><br><span class="line">  <span class="number">3</span>,使用node或者php语法关联数据库,声明查询sql语句,并执行sql.</span><br><span class="line">  <span class="number">4</span>,将查询db内容处理为json返回</span><br><span class="line">代码量: 前端ajax+模板引擎<span class="number">20</span>行左右 + 后台实现代码<span class="number">40</span>行左右 + 繁琐的数据表设计 + 一条条的添加数据库内容  =  BOOM心态爆炸!!!</span><br><span class="line"></span><br><span class="line"><span class="comment">// 或者你可以...</span></span><br><span class="line"><span class="string">`方法2: 完全脱离后台和数据库(mockjs配合vue的拦截器),或者 脱离数据库操作(mockjs简单的node后台)`</span></span><br><span class="line">  <span class="number">1</span>,搭建node服务器</span><br><span class="line">  <span class="number">2</span>,使用mockjs的mock方法制定随机数据</span><br><span class="line">  <span class="number">3</span>,处理为json返回</span><br><span class="line">代码量: 前端ajax+模板引擎<span class="number">20</span>行左右 + node服务响应mock数据<span class="number">11</span>行 = 咦嘿嘿很开心!</span><br><span class="line">代码:</span><br><span class="line">  <span class="keyword">const</span> app = reqire(<span class="string">'express'</span>)</span><br><span class="line">  <span class="keyword">const</span> Mock = <span class="built_in">require</span>(<span class="string">'mockjs'</span>)</span><br><span class="line">  app.get(<span class="string">'/someApi'</span>,(req,res)=&gt;&#123;</span><br><span class="line">    <span class="keyword">var</span> resData = Mock.mock(&#123;</span><br><span class="line">      <span class="string">'status'</span>:<span class="number">200</span>,</span><br><span class="line">      <span class="string">'msg'</span>:<span class="string">'success'</span>,</span><br><span class="line">      <span class="string">'stuData|10-20'</span>:[&#123;</span><br><span class="line">        <span class="string">'name|1-3'</span>:<span class="regexp">/[a-z][A-Z]/</span>,</span><br><span class="line">        <span class="string">'age|+1'</span>:<span class="number">10</span>,</span><br><span class="line">        <span class="string">'gender|1'</span>:<span class="literal">true</span></span><br><span class="line">      &#125;]</span><br><span class="line">    &#125;)</span><br><span class="line">    res.end(<span class="built_in">JSON</span>.stringify(resData))</span><br><span class="line">  &#125;)</span><br><span class="line">  app.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure><hr><hr><h2 id="一-Mockjs怎么用"><a href="#一-Mockjs怎么用" class="headerlink" title="一 Mockjs怎么用?"></a>一 Mockjs怎么用?</h2><h3 id="1-mock-js的使用"><a href="#1-mock-js的使用" class="headerlink" title="1 mock.js的使用"></a>1 mock.js的使用</h3><h5 id="1-1-1-安装并引入mock-js"><a href="#1-1-1-安装并引入mock-js" class="headerlink" title="1.1.1 安装并引入mock.js"></a>1.1.1 安装并引入mock.js</h5><p>  创建一个node服务器–server.js文件<br>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="comment">// 创建服务对象</span></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"><span class="comment">// 准备数据</span></span><br><span class="line"><span class="keyword">var</span> data = <span class="string">'123'</span></span><br><span class="line"><span class="comment">// 监听路由</span></span><br><span class="line">app.get(<span class="string">'/'</span>, (req, res) =&gt; &#123; </span><br><span class="line">  res.end(data);</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 开启服务</span></span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure></p><h5 id="1-1-2-安装并引入mock-js"><a href="#1-1-2-安装并引入mock-js" class="headerlink" title="1.1.2 安装并引入mock.js"></a>1.1.2 安装并引入mock.js</h5>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install mockjs </span><br><span class="line">或者 </span><br><span class="line">script:src=&quot;http://mockjs.com/dist/mock.js&quot;</span><br></pre></td></tr></table></figure><h5 id="1-1-3-mockjs模块模拟数据"><a href="#1-1-3-mockjs模块模拟数据" class="headerlink" title="1.1.3 mockjs模块模拟数据"></a>1.1.3 mockjs模块模拟数据</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引进express</span></span><br><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="comment">// 引进mockjs</span></span><br><span class="line"><span class="keyword">const</span> Mock = <span class="built_in">require</span>(<span class="string">'mockjs'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 准备服务对象</span></span><br><span class="line"><span class="keyword">const</span> app = express()</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听路由</span></span><br><span class="line">app.get(<span class="string">'/'</span>, (req, res) =&gt; &#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 准备随机数据</span></span><br><span class="line">  <span class="keyword">var</span> data = Mock.mock(&#123;</span><br><span class="line">    <span class="string">'list|1-20'</span>: [&#123;</span><br><span class="line">      <span class="string">'name|3-5'</span>: <span class="regexp">/[a-z][A-Z]/</span>,</span><br><span class="line">      <span class="string">'age|10-15'</span>: <span class="number">15</span>,</span><br><span class="line">      <span class="string">'gender|1'</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;]</span><br><span class="line">  &#125;)</span><br><span class="line">  res.end(<span class="built_in">JSON</span>.stringify(data));</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 开启服务</span></span><br><span class="line">app.listen(<span class="number">3000</span>)</span><br></pre></td></tr></table></figure><h5 id="1-1-4-测试服务"><a href="#1-1-4-测试服务" class="headerlink" title="1.1.4 测试服务"></a>1.1.4 测试服务</h5><p>在terminal窗口中运行命令nodemoon server.js<br>在浏览器中请求127.0.0.1:3000 观察响应体<br><img src="https://live.staticflickr.com/65535/47820482552_f61fbe4644_b.jpg" alt="响应数据"></p><h5 id="1-1-5-使用"><a href="#1-1-5-使用" class="headerlink" title="1.1.5 使用"></a>1.1.5 使用</h5><p>这样在ajax请求相关接口就能返回内容随机,结构固定的JSON数据了</p><hr><h4 id="2-mockjs语法"><a href="#2-mockjs语法" class="headerlink" title="2 mockjs语法"></a>2 <a href="https://github.com/nuysoft/Mock/wiki/Syntax-Specification" target="_blank" rel="noopener">mockjs语法</a></h4><h5 id="2-1-Mock-mock-方法"><a href="#2-1-Mock-mock-方法" class="headerlink" title="2.1 Mock.mock()方法"></a>2.1 <strong>Mock.mock()方法</strong></h5><p>  加对象参数就可以生成响应数据</p><hr><h5 id="2-2-参数对象模板规则"><a href="#2-2-参数对象模板规则" class="headerlink" title="2.2 参数对象模板规则"></a>2.2 参数对象模板规则</h5><ul><li><strong>属性名|生成规则：属性值 name | rule : value</strong>  </li><li><strong>name</strong>: 生成数据的名字字符串</li><li><strong>|</strong>: 一定要加</li><li><strong>rule</strong>: 生成数据的规则<pre><code>|min-max                  生成个数min至max条|count                    生成count条|min-max.dmin-dmax        1-9.2-3  数字值在1-9之间,小数点后保留2-3位  如 2.1   3.74|min-max.dcount           1-9.2     数字值在1-9之间,小数点后保留2位   如2.13  8.54|count.dmin-dmax          10.1-2    整数部分是10,小数点部分1-2位      如10.99   10.1|count.dcount             10.2      整数部分是10,小数点部分2位        如10.11   10.43|+step                    &apos;score|+1&apos;:1,   以value 1为基准,递增1</code></pre></li><li><p><strong>value</strong>: 属性值的规则</p><ul><li><p>字符串</p><pre><code>&apos;name|min-max&apos;: string 通过重复 string 生成一个字符串，min&lt;=重复次数&lt;=max&apos;name|count&apos;: string 通过重复 string 生成一个字符串，重复次数==count。</code></pre></li><li><p>数字</p><pre><code>&apos;name|+1&apos;: number 属性值自动加 1，初始值为 number。&apos;name|min-max&apos;: number    number确定数据类型,生成值在min-max间的整数&apos;name|min-max.dmin-dmax&apos;: numbernumber确定数据类型,生成值在min-max间的小数</code></pre></li><li>布尔<pre><code>&apos;name|1&apos;: boolean随机生成一个布尔值,真假各50%&apos;name|t-f&apos;: true随机生成一个布尔值,真占t/t+f  假占f/t+f</code></pre></li><li><p>对象</p><pre><code>&apos;name|count&apos;: object从属性值 object 中随机选取 count 个属性。&apos;name|min-max&apos;: object从属性值 object 中随机选取 min 到 max 个属性。</code></pre></li><li><p><code>数组</code>  </p><pre><code>&apos;name|1&apos;: array从属性值 array 中随机选取 1 个元素，作为最终值。&apos;name|+1&apos;: array从属性值 array 中顺序选取 1 个元素，作为最终值。&apos;name|min-max&apos;: array通过重复属性值 array 生成一个新数组，重复次数大于等于 min，小于等于 max。&apos;name|count&apos;: array通过重复属性值 array 生成一个新数组，重复次数为 count。var data = mock.mock({  // 将value数组中的项(对象) 重复计算1-10次 添加到新数组返回  &apos;obj|1-10&apos;:[    {      &apos;score|+1&apos;:1    }  ]})//生成 { obj: [ { score: 1 }, { score: 2 }, { score: 3 }, { score: 4 } ] }</code></pre></li><li><p>函数(不用)</p><pre><code>&apos;name&apos;: function执行函数 function，取其返回值作为最终的属性值，函数的上下文为属性 &apos;name&apos; 所在的对象。</code></pre></li><li>正则<pre><code>&apos;name&apos;: regexp根据正则表达式 regexp 反向生成可以匹配它的字符串。用于生成自定义格式的字符串。/[a-z][A-Z][0-9]/  /\w\W\s\S\d\D/  /\d{5,10}/ [\u4e00-\u9fa5]    </code></pre></li></ul></li></ul><hr><h5 id="2-3-Mock-valid-template-data-校验数据-处理请求发送来的数据-如果完全脱离后台就需要该方法"><a href="#2-3-Mock-valid-template-data-校验数据-处理请求发送来的数据-如果完全脱离后台就需要该方法" class="headerlink" title="2.3  Mock.valid( template, data ) 校验数据(处理请求发送来的数据,如果完全脱离后台就需要该方法)"></a>2.3  <strong>Mock.valid( template, data )</strong> 校验数据(处理请求发送来的数据,如果完全脱离后台就需要该方法)</h5><ul><li><code>在vue中可以脱离后台开发(到下个自习说)</code></li><li><strong>template</strong> 必选, 表示数据模板，可以是对象或字符串</li><li><strong>data</strong> 必选, 表示真实数据<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以用来做基于mock的ajax请求参数的处理</span></span><br><span class="line"><span class="keyword">var</span> template = &#123;</span><br><span class="line">    name: <span class="string">'value1'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> data = &#123;</span><br><span class="line">    name: <span class="string">'value2'</span></span><br><span class="line">&#125;</span><br><span class="line">Mock.valid(template, data)<span class="comment">//返回值是一个校验结果数组</span></span><br><span class="line"><span class="comment">// 如果匹配则 返回空数组</span></span><br><span class="line"><span class="comment">// 如果不匹配 messages属性表示tteamplate和data不匹配的原因</span></span><br></pre></td></tr></table></figure></li></ul><hr><h5 id="2-4-Mock-random工具对象"><a href="#2-4-Mock-random工具对象" class="headerlink" title="2.4 Mock.random工具对象"></a>2.4 <a href="https://github.com/nuysoft/Mock/wiki/Mock.Random" target="_blank" rel="noopener">Mock.random</a>工具对象</h5><ul><li>Mock.Random 是一个工具类，<code>用于生成各种随机数据。不用掌握,用到就点击蓝字查</code></li></ul><hr><h1 id="3-easymock的使用"><a href="#3-easymock的使用" class="headerlink" title="3 easymock的使用"></a>3 easymock的使用</h1><p>  <img src="https://live.staticflickr.com/65535/46956592235_511ee9ef69_b.jpg" alt="easymock"></p><h4 id="3-1-注册"><a href="#3-1-注册" class="headerlink" title="3.1 注册"></a>3.1 <a href="https://www.easy-mock.com/login" target="_blank" rel="noopener"><code>注册</code></a></h4><p>  <img src="https://live.staticflickr.com/65535/47820482622_8dd3d5ca81_b.jpg" alt="个人页面"></p><h4 id="3-2-注意右侧的使用文档右键新窗口打开"><a href="#3-2-注意右侧的使用文档右键新窗口打开" class="headerlink" title="3.2 注意右侧的使用文档右键新窗口打开"></a>3.2 注意右侧的<a href="https://www.easy-mock.com/docs" target="_blank" rel="noopener"><code>使用文档</code></a>右键新窗口打开</h4><p>  <img src="https://live.staticflickr.com/65535/47872713781_9a1fef5bb5_b.jpg" alt="文档"></p><h4 id="3-3-快速开始-创建一个项目-点击左侧演示项目"><a href="#3-3-快速开始-创建一个项目-点击左侧演示项目" class="headerlink" title="3.3 快速开始 - 创建一个项目 点击左侧演示项目"></a>3.3 <code>快速开始 - 创建一个项目</code> 点击左侧演示项目</h4><p>  <img src="https://live.staticflickr.com/65535/47820482752_4b75d8828f.jpg" alt="打开项目"></p><h4 id="3-5-打开项目设置"><a href="#3-5-打开项目设置" class="headerlink" title="3.5 打开项目设置"></a>3.5 <code>打开项目设置</code></h4><p>  <img src="https://live.staticflickr.com/65535/47820482772_6cbaf54576_b.jpg" alt="项目设置"></p><h4 id="3-6-配置接口点击保存-提示更新成功就OK了"><a href="#3-6-配置接口点击保存-提示更新成功就OK了" class="headerlink" title="3.6 配置接口点击保存,提示更新成功就OK了"></a>3.6 <code>配置接口</code>点击保存,提示更新成功就OK了</h4><p>  <img src="https://live.staticflickr.com/65535/47872713871_327401de50_b.jpg" alt="项目设置"></p><h4 id="3-7-接口列表配置"><a href="#3-7-接口列表配置" class="headerlink" title="3.7 接口列表配置"></a>3.7 <code>接口列表配置</code></h4><pre><code>记录当前项目的基本地址  `Base URL,注意要记录自己项目的啊!`https://www.easy-mock.com/mock/5bcd7381617c6c67bc2a20f8/itcast点击3.1左侧项目,进入个人项目,点击创建接口</code></pre><p>  <img src="https://live.staticflickr.com/65535/46956592315_f964c7c926_b.jpg" alt="接口列表位置"></p><h4 id="3-8-接口配置页面-左侧是当前接口返回值设置-右侧接口请求方式-地址等设置"><a href="#3-8-接口配置页面-左侧是当前接口返回值设置-右侧接口请求方式-地址等设置" class="headerlink" title="3.8 接口配置页面: 左侧是当前接口返回值设置,右侧接口请求方式,地址等设置"></a>3.8 <code>接口配置页面</code>: 左侧是当前接口返回值设置,右侧接口请求方式,地址等设置</h4><p>  <img src="https://live.staticflickr.com/65535/47820482842_7388cfb337_b.jpg" alt="接口详情设置">  <img src="https://live.staticflickr.com/65535/47820482822_40e081908d_z.jpg" alt="配置"><br>  将以下代码粘贴至左侧区域,并配置右侧选项</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  &#123;</span><br><span class="line">  <span class="comment">//响应状态码</span></span><br><span class="line">  <span class="string">'status'</span>: <span class="number">200</span>,</span><br><span class="line"></span><br><span class="line">  <span class="comment">// stus 值为数组</span></span><br><span class="line">  <span class="string">'stus|5-10'</span>: [&#123;</span><br><span class="line">    <span class="string">'name|2-4'</span>: <span class="regexp">/[\u4e00-\u9fa5]/</span>, <span class="comment">//生辰任意内容的字符串</span></span><br><span class="line">    <span class="string">'age|+1'</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">'score|1-100'</span>: <span class="number">100</span></span><br><span class="line">  &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="3-9创建或更新接口后会返回到列表页面-点击预览按钮"><a href="#3-9创建或更新接口后会返回到列表页面-点击预览按钮" class="headerlink" title="3.9创建或更新接口后会返回到列表页面, 点击预览按钮"></a>3.9创建或更新接口后会返回到列表页面, <strong>点击预览按钮</strong></h4><pre><code>如果能够看到响应的数据,就说明本次请求配置是欧克的</code></pre><p>  <img src="https://live.staticflickr.com/65535/47872714081_b134332e26_z.jpg" alt="接口预览-响应"><br>  <img src="https://live.staticflickr.com/65535/47820482912_f5cb51abaa_b.jpg" alt="接口预览-请求"></p><h4 id="3-10使用-POSTMan测试接口"><a href="#3-10使用-POSTMan测试接口" class="headerlink" title="3.10使用 POSTMan测试接口"></a>3.10使用 <strong>POSTMan</strong>测试接口</h4><pre><code>`拼接地址注意: 要使用easymock项目的BaseUrl 和 测试接口的地址&quot;test&quot;拼接`</code></pre><p>  <img src="https://live.staticflickr.com/65535/47820482962_0f876e5c02_z.jpg" alt="接口预览-请求"></p><h4 id="3-11欧克-现在你可以脱离数据库及后台的配置发送ajax请求直接拿数据啦"><a href="#3-11欧克-现在你可以脱离数据库及后台的配置发送ajax请求直接拿数据啦" class="headerlink" title="3.11欧克,现在你可以脱离数据库及后台的配置发送ajax请求直接拿数据啦!"></a>3.11欧克,现在你可以脱离数据库及后台的配置发送ajax请求直接拿数据啦!</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;mock和easymock&quot;&gt;&lt;a href=&quot;#mock和easymock&quot; class=&quot;headerlink&quot; title=&quot;mock和easymock&quot;&gt;&lt;/a&gt;mock和easymock&lt;/h1&gt;&lt;h3 id=&quot;WHY-mock-js&quot;&gt;&lt;a href=
      
    
    </summary>
    
      <category term="扩展阅读" scheme="/categories/%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/"/>
    
    
      <category term="扩展阅读" scheme="/tags/%E6%89%A9%E5%B1%95%E9%98%85%E8%AF%BB/"/>
    
  </entry>
  
  <entry>
    <title>JS遍历对象、数组总结</title>
    <link href="/2019/05/16/JS%E9%81%8D%E5%8E%86%E5%AF%B9%E8%B1%A1%E3%80%81%E6%95%B0%E7%BB%84%E6%80%BB%E7%BB%93/"/>
    <id>/2019/05/16/JS遍历对象、数组总结/</id>
    <published>2019-05-16T08:50:56.826Z</published>
    <updated>2019-05-18T05:28:13.615Z</updated>
    
    <content type="html"><![CDATA[<h1 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h1><h2 id="使用for-in-遍历"><a href="#使用for-in-遍历" class="headerlink" title="使用for..in..遍历"></a>使用for..in..遍历</h2><blockquote><p>循环遍历对象自身的和继承的可枚举属性(不含Symbol属性)</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="string">'0'</span>:<span class="string">'a'</span>,<span class="string">'1'</span>:<span class="string">'b'</span>,<span class="string">'2'</span>:<span class="string">'c'</span>&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> obj) &#123;</span><br><span class="line">     <span class="built_in">console</span>.log(i,<span class="string">":"</span>,obj[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="使用Object-keys-遍历"><a href="#使用Object-keys-遍历" class="headerlink" title="使用Object.keys()遍历"></a>使用Object.keys()遍历</h2><blockquote><p>返回一个数组,包括对象自身的(不含继承的)所有可枚举属性(不含Symbol属性)</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="string">'0'</span>:<span class="string">'a'</span>,<span class="string">'1'</span>:<span class="string">'b'</span>,<span class="string">'2'</span>:<span class="string">'c'</span>&#125;;</span><br><span class="line"> </span><br><span class="line"><span class="built_in">Object</span>.keys(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">     <span class="built_in">console</span>.log(key,obj[key]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="使用Object-getOwnPropertyNames-obj-遍历"><a href="#使用Object-getOwnPropertyNames-obj-遍历" class="headerlink" title="使用Object.getOwnPropertyNames(obj)遍历"></a>使用Object.getOwnPropertyNames(obj)遍历</h2><blockquote><p>返回一个数组,包含对象自身的所有属性(不含Symbol属性,但是包括不可枚举属性)</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="string">'0'</span>:<span class="string">'a'</span>,<span class="string">'1'</span>:<span class="string">'b'</span>,<span class="string">'2'</span>:<span class="string">'c'</span>&#125;;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertyNames(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(key,obj[key]);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="使用Reflect-ownKeys-obj-遍历"><a href="#使用Reflect-ownKeys-obj-遍历" class="headerlink" title="使用Reflect.ownKeys(obj)遍历"></a>使用Reflect.ownKeys(obj)遍历</h2><blockquote><p>返回一个数组,包含对象自身的所有属性,不管属性名是Symbol或字符串,也不管是否可枚举</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;<span class="string">'0'</span>:<span class="string">'a'</span>,<span class="string">'1'</span>:<span class="string">'b'</span>,<span class="string">'2'</span>:<span class="string">'c'</span>&#125;;</span><br><span class="line"><span class="built_in">Reflect</span>.ownKeys(obj).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">key</span>)</span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(key,obj[key]);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h1 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h1><h2 id="forEach-遍历"><a href="#forEach-遍历" class="headerlink" title="forEach - 遍历"></a>forEach - 遍历</h2><ol><li>遍历数组全部元素，利用回调函数对数组进行操作</li><li>自动遍历数组.length次数，且无法break中途跳出循环</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">arr.forEach(<span class="function">(<span class="params">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;el&#125;</span>, <span class="subst">$&#123;index&#125;</span>,`</span>, arr)</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="comment">// 1, 0, [ 1, 2, 3, 4, 5 ]</span></span><br><span class="line"><span class="comment">// 2, 1, [ 1, 2, 3, 4, 5 ]</span></span><br><span class="line"><span class="comment">// 3, 2, [ 1, 2, 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure><h2 id="map-遍历、创建"><a href="#map-遍历、创建" class="headerlink" title="map - 遍历、创建"></a>map - 遍历、创建</h2><ol><li>创建新数组</li><li>不改变原数组</li><li>输出的是return什么就输出什么新数组</li><li>回调函数参数，item(数组元素)、index(序列)、arr(数组本身)</li><li>使用return操作输出，会循环数组每一项，并在回调函数中操作</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> newArr = arr.map(<span class="function">(<span class="params">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> el * <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newArr) <span class="comment">// [ 2, 4, 6 ]</span></span><br><span class="line"><span class="comment">// 如果没有返回值将会返回undefined</span></span><br><span class="line"><span class="keyword">const</span> newArr = arr.map(<span class="function">(<span class="params">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// return el * 2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newArr) <span class="comment">// [ undefined, undefined, undefined ]</span></span><br></pre></td></tr></table></figure><h2 id="filter-筛选、创建"><a href="#filter-筛选、创建" class="headerlink" title="filter - 筛选、创建"></a>filter - 筛选、创建</h2><ol><li>创建新数组</li><li>不改变原数组</li><li>输出的是判断为true的数组元素形成的新数组</li><li>回调函数参数，item(数组元素)、index(序列)、arr(数组本身)</li><li>使用return操作输出，会循环数组每一项，并在回调函数中操作</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> newArr = arr.filter(<span class="function">(<span class="params">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> el &gt; <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(newArr) <span class="comment">// [ 3, 4, 5 ]</span></span><br></pre></td></tr></table></figure><h2 id="includes-筛选"><a href="#includes-筛选" class="headerlink" title="includes - 筛选"></a>includes - 筛选</h2><p>只是判断数组是否含有某值，不用return，不用回调函数，输出一个true或false</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>] ;</span><br><span class="line"><span class="keyword">var</span> new1 = arr.includes(<span class="number">5</span>); </span><br><span class="line"><span class="built_in">console</span>.log(new1) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="find-筛选"><a href="#find-筛选" class="headerlink" title="find - 筛选"></a>find - 筛选</h2><ol><li>不创建新数组</li><li>不改变原数组</li><li>输出的是一旦判断为true则跳出循环输出符合条件的数组元素</li><li>回调函数参数，item(数组元素)、index(序列)、arr(数组本身)</li><li>使用return操作输出，会循环数组每一项，并在回调函数中操作</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> result = arr.find(<span class="function">(<span class="params">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> el &gt; <span class="number">3</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><h2 id="findIndex-筛选"><a href="#findIndex-筛选" class="headerlink" title="findIndex  - 筛选"></a>findIndex  - 筛选</h2><ol><li>不创建新数组</li><li>不改变原数组</li><li>输出的是一旦判断为true则跳出循环输出符合条件的数组元素序列</li><li>回调函数参数，item(数组元素)、index(序列)、arr(数组本身)</li><li>使用return操作输出，会循环数组每一项，并在回调函数中操作</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> index = arr.findIndex(<span class="function">(<span class="params">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> el &gt; <span class="number">3</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(index) <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><h2 id="some-判断"><a href="#some-判断" class="headerlink" title="some - 判断"></a>some - 判断</h2><ol><li>不创建新数组</li><li>不改变原数组</li><li>输出的是判断为true则马上跳出循环并return成true</li><li>回调函数参数，item(数组元素)、index(序列)、arr(数组本身)</li><li>使用return操作输出，会循环数组每一项，并在回调函数中操作</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> result = arr.some(<span class="function">(<span class="params">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> el &gt; <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h2 id="every-判断"><a href="#every-判断" class="headerlink" title="every - 判断"></a>every - 判断</h2><ol><li>不创建新数组</li><li>不改变原数组</li><li>输出的是判断为false则马上跳出循环并return成false</li><li>回调函数参数，item(数组元素)、index(序列)、arr(数组本身)</li><li>使用return操作输出，会循环数组每一项，并在回调函数中操作</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> result = arr.every(<span class="function">(<span class="params">el, index, arr</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> el &gt; <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h2 id="reduce-reduceRight"><a href="#reduce-reduceRight" class="headerlink" title="reduce / reduceRight"></a>reduce / reduceRight</h2><p>reduce / reduceRight比上面的方法复杂一点，其语法如下</p><blockquote><p>array.reduce(callback,[initialValue])</p></blockquote><p><code>callback</code>接收四个参数</p><ul><li><code>accumulator</code> 上一次调用回调返回的值，或者是提供的初始值（initialValue）</li><li><code>currentValue</code> 数组中正在处理的元素</li><li><code>currentIndex</code> 数组中正在处理的元素索引，如果提供了initialValue ，从0开始；否则从1开始。</li><li><code>array</code> 数组对象本身<br>reduce / reduceRight 方法中，第二个参数（<code>initialValue</code>）是可选的；<br>我们先看一个例子：</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">const</span> result = arr.reduce(<span class="function">(<span class="params">a, b</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> a + b</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure><p>接下来分析reduce是如何运行的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"><span class="keyword">const</span> result = arr.reduce(<span class="function">(<span class="params">accumulator, currentValue, currentIndex, array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(accumulator, currentValue, currentIndex, array)</span><br><span class="line">  <span class="keyword">return</span> accumulator + currentValue</span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">console</span>.log(result)</span><br><span class="line"><span class="comment">// output</span></span><br><span class="line"><span class="comment">// 1 2 1 [ 1, 2, 3, 4 ]</span></span><br><span class="line"><span class="comment">// 3 3 2 [ 1, 2, 3, 4 ]</span></span><br><span class="line"><span class="comment">// 6 4 3 [ 1, 2, 3, 4 ]</span></span><br><span class="line"><span class="comment">// 10</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;对象&quot;&gt;&lt;a href=&quot;#对象&quot; class=&quot;headerlink&quot; title=&quot;对象&quot;&gt;&lt;/a&gt;对象&lt;/h1&gt;&lt;h2 id=&quot;使用for-in-遍历&quot;&gt;&lt;a href=&quot;#使用for-in-遍历&quot; class=&quot;headerlink&quot; title=&quot;使用f
      
    
    </summary>
    
      <category term="JavaScript" scheme="/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>js实现表格内容无缝滚动</title>
    <link href="/2019/05/16/js%E5%AE%9E%E7%8E%B0%E8%A1%A8%E6%A0%BC%E5%86%85%E5%AE%B9%E6%97%A0%E7%BC%9D%E6%BB%9A%E5%8A%A8/"/>
    <id>/2019/05/16/js实现表格内容无缝滚动/</id>
    <published>2019-05-16T08:50:56.779Z</published>
    <updated>2019-05-14T07:43:23.656Z</updated>
    
    <content type="html"><![CDATA[<h2 id="直接上代码"><a href="#直接上代码" class="headerlink" title="直接上代码"></a>直接上代码</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">        table &#123;</span></span><br><span class="line"><span class="undefined">            width: 500px;</span></span><br><span class="line"><span class="undefined">            border: 1px solid gray;</span></span><br><span class="line"><span class="undefined">            border-collapse: collapse;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        th,</span></span><br><span class="line"><span class="undefined">        td &#123;</span></span><br><span class="line"><span class="undefined">            line-height: 35px;</span></span><br><span class="line"><span class="undefined">            border: 1px solid gray;</span></span><br><span class="line"><span class="undefined">            text-align: center;</span></span><br><span class="line"><span class="undefined">            width: 120px;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        .scroll-box &#123;</span></span><br><span class="line"><span class="undefined">            height: 195px;</span></span><br><span class="line"><span class="undefined">            width: 500px;</span></span><br><span class="line"><span class="undefined">            overflow: hidden;</span></span><br><span class="line"><span class="undefined">            position: relative;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        .tab-scroll &#123;</span></span><br><span class="line"><span class="undefined">            position: absolute;</span></span><br><span class="line"><span class="undefined">            left: 0;</span></span><br><span class="line"><span class="undefined">            top: 0;</span></span><br><span class="line"><span class="undefined">            transition: all 1s;</span></span><br><span class="line"><span class="undefined">            border-top: none;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">        .tab-scroll td &#123;</span></span><br><span class="line"><span class="undefined">            border-top: none;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"top"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">thead</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>ID<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>姓名<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>年龄<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>住址<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"scroll-box"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">"tab-scroll"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1001<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>李四<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1002<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>王五<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1003<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>王五<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1004<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Jack<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1005<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>小兰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1006<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>王五<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1007<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>王五<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1008<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>Jack<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>1009<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>小兰<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">td</span>&gt;</span>AAAA<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//  2.实现表格滚动(每次滚动一行)</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> scrollTab = <span class="built_in">document</span>.getElementsByClassName(<span class="string">'tab-scroll'</span>)[<span class="number">0</span>]; <span class="comment">//滚动的表格</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> tbody = scrollTab.getElementsByTagName(<span class="string">'tbody'</span>)[<span class="number">0</span>]; <span class="comment">//tbody</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> speed = scrollTab.getElementsByTagName(<span class="string">'td'</span>)[<span class="number">0</span>].offsetHeight + <span class="number">1</span>; <span class="comment">//行高(滚动速度) 加上表格边框</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">var</span> count = <span class="number">0</span>; <span class="comment">//要追加到表格底部的行索引 </span></span></span><br><span class="line"><span class="javascript">        setInterval(scrollTop, <span class="number">1000</span>); <span class="comment">//每隔1秒滚动一次</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">        <span class="comment">//实现表格向上滚动</span></span></span><br><span class="line"><span class="javascript">        <span class="function"><span class="keyword">function</span> <span class="title">scrollTop</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> t = scrollTab.offsetTop; <span class="comment">//top值</span></span></span><br><span class="line"><span class="javascript">            scrollTab.style.top = t - speed + <span class="string">'px'</span>; <span class="comment">//滚动</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> trs = tbody.getElementsByTagName(<span class="string">'tr'</span>); <span class="comment">//每次都重新取出所有内容行</span></span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> newTr = trs[count].cloneNode(<span class="literal">true</span>); <span class="comment">//复制行，得到新的行对象</span></span></span><br><span class="line"><span class="javascript">            <span class="comment">//将滚动的行追加到表格底部</span></span></span><br><span class="line"><span class="undefined">            tbody.appendChild(newTr);</span></span><br><span class="line"><span class="undefined">            count++;</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;直接上代码&quot;&gt;&lt;a href=&quot;#直接上代码&quot; class=&quot;headerlink&quot; title=&quot;直接上代码&quot;&gt;&lt;/a&gt;直接上代码&lt;/h2&gt;&lt;figure class=&quot;highlight html&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;
      
    
    </summary>
    
      <category term="JavaScript" scheme="/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>JS获取客户端真实IP</title>
    <link href="/2019/05/16/JS%E8%8E%B7%E5%8F%96%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%9C%9F%E5%AE%9EIP/"/>
    <id>/2019/05/16/JS获取客户端真实IP/</id>
    <published>2019-05-16T08:50:56.779Z</published>
    <updated>2019-05-15T07:05:18.876Z</updated>
    
    <content type="html"><![CDATA[<h2 id="方法一：（所有的平台及浏览器）"><a href="#方法一：（所有的平台及浏览器）" class="headerlink" title="方法一：（所有的平台及浏览器）"></a>方法一：（所有的平台及浏览器）</h2><p>使用搜狐接口：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">"http://pv.sohu.com/cityjson?ie=utf-8"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"><span class="built_in">document</span>.write(returnCitySN[<span class="string">"cip"</span>]+<span class="string">','</span>+returnCitySN[<span class="string">"cname"</span>])</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="方法二：（所有的平台及浏览器）"><a href="#方法二：（所有的平台及浏览器）" class="headerlink" title="方法二：（所有的平台及浏览器）"></a>方法二：（所有的平台及浏览器）</h2><p>使用新浪接口：(我测试过，此方法好像不行。访问网站也不能访问了。)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">"text/javascript"</span> src=<span class="string">"http://counter.sina.com.cn/ip/"</span> charset=<span class="string">"gb2312"</span>&gt;&lt;/script&gt;       &lt;!--获取接口数据，注意charset --&gt;</span><br><span class="line">&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"IP地址："</span>+ILData[<span class="number">0</span>]+<span class="string">"&lt;br /&gt;"</span>);             <span class="comment">//输出接口数据中的IP地址</span></span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"地址类型："</span>+ILData[<span class="number">1</span>]+<span class="string">"&lt;br /&gt;"</span>);         <span class="comment">//输出接口数据中的IP地址的类型</span></span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"地址类型："</span>+ILData[<span class="number">2</span>]+<span class="string">"&lt;br /&gt;"</span>);         <span class="comment">//输出接口数据中的IP地址的省市</span></span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"地址类型："</span>+ILData[<span class="number">3</span>]+<span class="string">"&lt;br /&gt;"</span>);         <span class="comment">//输出接口数据中的IP地址的</span></span><br><span class="line"><span class="built_in">document</span>.writeln(<span class="string">"地址类型："</span>+ILData[<span class="number">4</span>]+<span class="string">"&lt;br /&gt;"</span>);         <span class="comment">//输出接口数据中的IP地址的运营商</span></span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="方法三："><a href="#方法三：" class="headerlink" title="方法三："></a>方法三：</h2><p>个人Robert Hashemian写的：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language=<span class="string">"JavaScript"</span> src=<span class="string">"http://www.hashemian.com/js/visitorIP.js.php"</span>&gt;&lt;/script&gt;</span><br><span class="line">&lt;script language=<span class="string">"JavaScript"</span>&gt;</span><br><span class="line">    VIH_BackColor = <span class="string">"palegreen"</span>;</span><br><span class="line">    VIH_ForeColor = <span class="string">"navy"</span>;</span><br><span class="line">    VIH_FontPix = <span class="string">"16"</span>;</span><br><span class="line">    VIH_DisplayFormat = <span class="string">"You are visiting from:&lt;br&gt;IP Address: %%IP%%&lt;br&gt;Host: %%HOST%%"</span>;</span><br><span class="line">    VIH_DisplayOnPage = <span class="string">"yes"</span>;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="方法四："><a href="#方法四：" class="headerlink" title="方法四："></a>方法四：</h2><blockquote><p>（只针对IE且客户端的IE允许AcitiveX运行，通过平台：XP，SERVER03，2000）</p></blockquote><p>利用ActiveXObject控件，ie浏览器里要开启此控件：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language=&quot;JavaScript&quot;&gt;</span><br><span class="line">function GetLocalIPAddr()&#123; var oSetting = null; var ip = null; try&#123; oSetting = new ActiveXObject(&quot;rcbdyctl.Setting&quot;); ip = oSetting.GetIPAddress; if (ip.length == 0)&#123; return &quot;没有连接到Internet&quot;; &#125; oSetting = null; &#125;catch(e)&#123; return ip; &#125; return ip; &#125; document.write(GetLocalIPAddr()+&quot;&lt;br/&gt;&quot;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;方法一：（所有的平台及浏览器）&quot;&gt;&lt;a href=&quot;#方法一：（所有的平台及浏览器）&quot; class=&quot;headerlink&quot; title=&quot;方法一：（所有的平台及浏览器）&quot;&gt;&lt;/a&gt;方法一：（所有的平台及浏览器）&lt;/h2&gt;&lt;p&gt;使用搜狐接口：&lt;/p&gt;
&lt;figur
      
    
    </summary>
    
      <category term="JavaScript" scheme="/categories/JavaScript/"/>
    
    
      <category term="JavaScript" scheme="/tags/JavaScript/"/>
    
  </entry>
  
  <entry>
    <title>element-ui的table表格不对齐问题</title>
    <link href="/2019/05/16/element-ui%E7%9A%84table%E8%A1%A8%E6%A0%BC%E4%B8%8D%E5%AF%B9%E9%BD%90%E9%97%AE%E9%A2%98/"/>
    <id>/2019/05/16/element-ui的table表格不对齐问题/</id>
    <published>2019-05-16T08:50:56.733Z</published>
    <updated>2019-05-18T05:08:34.998Z</updated>
    
    <content type="html"><![CDATA[<h1 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h1><p><img src="https://live.staticflickr.com/65535/32928640937_1dc4bcb136_b.jpg" alt></p><h1 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h1><p>将以下样式代码添加到index.html、或app.vue中</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> <span class="selector-class">.el-table</span> <span class="selector-tag">colgroup</span><span class="selector-class">.gutter</span>&#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell<span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;问题：&quot;&gt;&lt;a href=&quot;#问题：&quot; class=&quot;headerlink&quot; title=&quot;问题：&quot;&gt;&lt;/a&gt;问题：&lt;/h1&gt;&lt;p&gt;&lt;img src=&quot;https://live.staticflickr.com/65535/32928640937_1dc4bcb1
      
    
    </summary>
    
      <category term="Vue" scheme="/categories/Vue/"/>
    
    
      <category term="Vue" scheme="/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>cookie、session、WebStorage</title>
    <link href="/2019/05/16/cookie%E3%80%81session%E3%80%81WebStorage/"/>
    <id>/2019/05/16/cookie、session、WebStorage/</id>
    <published>2019-05-16T08:50:56.717Z</published>
    <updated>2019-05-24T13:16:19.944Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h2><blockquote><p>生命期为只在设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭。 存放数据大小为4K左右 。有个数限制（各浏览器不同），一般不能超过20个。与服务器端通信：每次都会携带在HTTP头中，如果使用cookie保存过多数据会带来性能问题。但Cookie需要程序员自己封装，源生的Cookie接口不友好</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Cookie方法</span></span><br><span class="line">&lt;script src=<span class="string">"../js/cookie.js"</span>&gt;&lt;/script&gt;<span class="comment">//Cookie函数自己封装引入</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">haxi</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(getCookie(<span class="string">"isClose"</span>))&#123;             </span><br><span class="line">            $(<span class="string">".header"</span>).hide();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            $(<span class="string">".header"</span>).show();</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        $(<span class="string">".close"</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            $(<span class="string">".header"</span>).fadeOut(<span class="number">1000</span>);</span><br><span class="line"></span><br><span class="line">            setCookie(<span class="string">"isClose"</span>, <span class="string">"1"</span>,<span class="string">"s10"</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    haxi();</span><br></pre></td></tr></table></figure><p><strong>缺点：</strong></p><ul><li>大小受限，每个cookie有4k限制</li><li>用户可以操作（禁用）cookie，使功能受限</li><li>安全性较低</li><li>每次访问都要传送cookie给服务器，浪费带宽</li><li>cookie数据有路径（path）的概念，限制其只属于某个路径下</li></ul><p><strong>优点</strong></p><ul><li>通过良好的编程，控制保存在cookie中的session对象的大小。</li><li>通过加密和安全传输技术，减少cookie被破解的可能性。</li><li>只有在cookie中存放不敏感的数据，即使被盗取也不会有很大的损失。</li><li>控制cookie的生命期，使之不会永远有效。这样的话偷盗者很可能拿到的就   是一个过期的cookie。</li></ul><h2 id="Session"><a href="#Session" class="headerlink" title="Session"></a>Session</h2><p>存储在服务器端、与cookie配合使用</p><h2 id="WebStorage"><a href="#WebStorage" class="headerlink" title="WebStorage"></a>WebStorage</h2><blockquote><p>H5新技术</p></blockquote><ul><li>存储空间更大：单个item数据大小可以达到5MB</li><li>节省网络流量：WebStorage不会传送到服务器，存储在本地的数据可以直接获取使用</li><li>只能存储字符串类型</li></ul><h3 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h3><blockquote><p>localStorage生命周期是永久，这意味着除非用户显示在浏览器提供的UI上清除localStorage信息，否则这些信息将永远存在。存放数据大小为一般为5MB,而且它仅在客户端（即浏览器）中保存，不参与和服务器的通信。</p></blockquote><h3 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h3><blockquote><p>sessionStorage仅在当前会话下有效，关闭页面或浏览器后被清除。存放数据大小为一般为5MB,而且它仅在客户端（即浏览器）中保存，不参与和服务器的通信。源生接口可以接受，亦可再次封装来对Object和Array有更好的支持。</p></blockquote><p>localStorage和sessionStorage使用时使用相同的API：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">localStorage.setItem(<span class="string">"key"</span>,<span class="string">"value"</span>);<span class="comment">//以“key”为名称存储一个值“value”</span></span><br><span class="line"></span><br><span class="line">localStorage.getItem(<span class="string">"key"</span>);<span class="comment">//获取名称为“key”的值</span></span><br><span class="line"></span><br><span class="line">localStorage.removeItem(<span class="string">"key"</span>);<span class="comment">//删除名称为“key”的信息。</span></span><br><span class="line"></span><br><span class="line">localStorage.clear();<span class="comment">//清空localStorage中所有信息</span></span><br></pre></td></tr></table></figure><h3 id="作用域不同！！"><a href="#作用域不同！！" class="headerlink" title="作用域不同！！"></a>作用域不同！！</h3><p>不同浏览器无法共享localStorage或sessionStorage中的信息。相同浏览器的不同页面间可以共享相同的 localStorage（页面属于相同域名和端口），但是不同页面或标签页间无法共享sessionStorage的信息。这里需要注意的是，页面及标 签页仅指顶级窗口，如果一个标签页包含多个iframe标签且他们属于同源页面，那么他们之间是可以共享sessionStorage的。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Cookies&quot;&gt;&lt;a href=&quot;#Cookies&quot; class=&quot;headerlink&quot; title=&quot;Cookies&quot;&gt;&lt;/a&gt;Cookies&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;生命期为只在设置的cookie过期时间之前一直有效，即使窗口或浏览器关闭。
      
    
    </summary>
    
      <category term="本地存储" scheme="/categories/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/"/>
    
    
      <category term="本地存储" scheme="/tags/%E6%9C%AC%E5%9C%B0%E5%AD%98%E5%82%A8/"/>
    
  </entry>
  
  <entry>
    <title>axios处理多个baseURL</title>
    <link href="/2019/05/16/axios%E5%A4%84%E7%90%86%E5%A4%9A%E4%B8%AAbaseURL/"/>
    <id>/2019/05/16/axios处理多个baseURL/</id>
    <published>2019-05-16T08:50:56.701Z</published>
    <updated>2019-05-25T04:03:45.926Z</updated>
    
    <content type="html"><![CDATA[<h2 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h2><blockquote><p>抛弃axios的基地址设置，使用单独js文件完成api基地址配置，在请求接口时进行字符串拼接</p></blockquote><p><strong>某config.js文件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> baseUrl = &#123;</span><br><span class="line">    api: <span class="string">'https://111.111.11.111'</span>,</span><br><span class="line">    api2: <span class="string">'http://222.222.222.222'</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123;baseUrl&#125;</span><br></pre></td></tr></table></figure><p><strong>.vue文件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">import</span> &#123; baseUrl &#125; <span class="keyword">from</span> <span class="string">'../../../config-url'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">        methods:&#123;</span><br><span class="line">            getData () &#123;</span><br><span class="line">                <span class="keyword">this</span>.axios.post(baseUrl.api + <span class="string">'/login'</span>,<span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">                    userName:<span class="string">''</span>,</span><br><span class="line">                    pwd:<span class="string">''</span></span><br><span class="line">                &#125;))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h2><h4 id="准备工作1-准备一个utls-js-文件"><a href="#准备工作1-准备一个utls-js-文件" class="headerlink" title="准备工作1, 准备一个utls.js 文件"></a>准备工作1, 准备一个utls.js 文件</h4><blockquote><p>(路径自己存放,我放到main.js同一目录)</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 导出 对应的不同接口的URL地址</span></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">        domain: &#123;</span><br><span class="line">            Base_M1_URL: <span class="string">'http://192.168.2.54:8008'</span>, <span class="comment">//模块一接口地址</span></span><br><span class="line">            Base_M2_URL: <span class="string">'http://192.168.2.90:8080'</span>, <span class="comment">//模块二接口地址</span></span><br><span class="line">            Base_M3_URL: <span class="string">'http://192.168.2.102:6608'</span>, <span class="comment">//模块三接口地址</span></span><br><span class="line">            Base_M4_URL: <span class="string">'http://192.168.2.222:9000'</span>, <span class="comment">//模块四接口地址</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h4 id="准备工作2-准备一个公用的common-js文件"><a href="#准备工作2-准备一个公用的common-js文件" class="headerlink" title="准备工作2,准备一个公用的common.js文件"></a>准备工作2,准备一个公用的common.js文件</h4><blockquote><p>导入的main.js中(路径自己存放,我放到main.js同一目录)</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1-&gt;common.js中引入axios</span></span><br><span class="line"><span class="keyword">import</span> Axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2-&gt;对get请求传递过来的参数处理</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">paramsToUrl</span>(<span class="params">url, params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!params) <span class="keyword">return</span> url</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> params) &#123;</span><br><span class="line">        <span class="keyword">if</span> (params[key] &amp;&amp; params[key] != <span class="string">'undefined'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (url.indexOf(<span class="string">'?'</span>) != <span class="number">-1</span>) &#123;</span><br><span class="line">                url += <span class="string">'&amp;'</span> + <span class="string">''</span> + key + <span class="string">'='</span> + params[key] || <span class="string">''</span> + <span class="string">''</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                url += <span class="string">'?'</span> + <span class="string">''</span> + key + <span class="string">'='</span> + params[key] || <span class="string">''</span> + <span class="string">''</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> url</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//3-&gt;在common.js中封装公用方法-----封装请求的方法</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">requireData</span>(<span class="params">url,params,type,item</span>)</span>&#123;</span><br><span class="line"><span class="keyword">if</span>(!url) <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line"><span class="keyword">switch</span>(item)&#123;</span><br><span class="line"><span class="keyword">case</span> M1:</span><br><span class="line">url=axios.defaults.baseM1URL</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> M2:</span><br><span class="line">url=axios.defaults.baseM2URL</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">case</span> M3:</span><br><span class="line">url=axios.defaults.baseM3URL</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">url=axios.defaults.baseM4URL</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(type===<span class="string">'get'</span>)&#123;</span><br><span class="line">url=paramsToUrl(url, params)</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">Axios.get(url,params).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">resolve(res.data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">reject(err)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve,reject</span>)=&gt;</span>&#123;</span><br><span class="line">Axios.post(url,params).then(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">resolve(res.data)</span><br><span class="line">&#125;).catch(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">reject(err)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span>&#123;</span><br><span class="line">install(Vue,options)&#123;</span><br><span class="line"><span class="comment">//-&gt;接口1的请求数据方法</span></span><br><span class="line">Vue.prototype.reqM1Service=<span class="function"><span class="keyword">function</span>(<span class="params">url,params,type</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> requireData.call(<span class="keyword">this</span>,url,params,type,<span class="string">'M1'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-&gt;接口2的请求数据方法</span></span><br><span class="line">Vue.prototype.reqM2Service=<span class="function"><span class="keyword">function</span>(<span class="params">url,params,type</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> requireData.call(<span class="keyword">this</span>,url,params,type,<span class="string">'M2'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-&gt;接口3的请求数据方法</span></span><br><span class="line">Vue.prototype.reqM3Service=<span class="function"><span class="keyword">function</span>(<span class="params">url,params,type</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> requireData.call(<span class="keyword">this</span>,url,params,type,<span class="string">'M3'</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//-&gt;接口4的请求数据方法</span></span><br><span class="line">Vue.prototype.reqM4Service=<span class="function"><span class="keyword">function</span>(<span class="params">url,params,type</span>)</span>&#123;</span><br><span class="line"><span class="keyword">return</span> requireData.call(<span class="keyword">this</span>,url,params,type,<span class="string">'M4'</span>)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="第一步，在项目-main-js-引入axios和utls-js和common-js"><a href="#第一步，在项目-main-js-引入axios和utls-js和common-js" class="headerlink" title="第一步，在项目 main.js 引入axios和utls.js和common.js"></a>第一步，在项目 <em>main.js</em> 引入axios和utls.js和common.js</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在main.js中引入axios</span></span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入 utls.js</span></span><br><span class="line"><span class="keyword">import</span> &#123;domain&#125; <span class="keyword">from</span> <span class="string">'./utls.js'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入 common.js</span></span><br><span class="line"><span class="keyword">import</span> common <span class="keyword">from</span> <span class="string">'./common.js'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//配置axios</span></span><br><span class="line"><span class="comment">//-&gt;1,模块一接口,url地址</span></span><br><span class="line">axios.defaults.baseM1URL = domain.Base_M1_URL</span><br><span class="line"><span class="comment">//-&gt;2,模块二接口,url地址</span></span><br><span class="line">axios.defaults.baseM2URL = domain.Base_M2_URL</span><br><span class="line"><span class="comment">//-&gt;3,模块三接口,url地址</span></span><br><span class="line">axios.defaults.baseM3URL = domain.Base_M3_URL</span><br><span class="line"><span class="comment">//-&gt;4,模块四接口,url地址</span></span><br><span class="line">axios.defaults.baseM4URL = domain.Base_M4_URL</span><br></pre></td></tr></table></figure><h4 id="第二步-在组件中直接使用封装好的方法调用服务-请求数据"><a href="#第二步-在组件中直接使用封装好的方法调用服务-请求数据" class="headerlink" title="第二步,在组件中直接使用封装好的方法调用服务,请求数据"></a>第二步,在组件中直接使用封装好的方法调用服务,请求数据</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;&#123;&#123;test&#125;&#125;&lt;<span class="regexp">/h2&gt;</span></span><br><span class="line"><span class="regexp">&lt;/</span>template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  data: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      test: <span class="string">"这是一个测试案例"</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;,</span><br><span class="line">  mounted() &#123;</span><br><span class="line">    <span class="keyword">let</span> url = <span class="string">"/login"</span>;</span><br><span class="line">    <span class="keyword">let</span> params = &#123;</span><br><span class="line">      username: <span class="string">"test"</span>,</span><br><span class="line">      pass: <span class="string">"123"</span>,</span><br><span class="line">      token: <span class="string">"1112212123123"</span></span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//-&gt;调用第一个接口的请求服务</span></span><br><span class="line">    <span class="keyword">this</span>.reqM1Service(url, params).then(</span><br><span class="line">      res =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//-&gt;调用第2个接口的请求服务</span></span><br><span class="line">    <span class="keyword">this</span>.reqM2Service(url, params).then(</span><br><span class="line">      res =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(res);</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure><p>优点:<br>1,在不同的组件调用不同的方法就可以实现,不同的接口请求数据;<br>2,维护接口方便,以后上线之后,把utls.js中的接口全部更换成线上接口即可;</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;方法一&quot;&gt;&lt;a href=&quot;#方法一&quot; class=&quot;headerlink&quot; title=&quot;方法一&quot;&gt;&lt;/a&gt;方法一&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;抛弃axios的基地址设置，使用单独js文件完成api基地址配置，在请求接口时进行字符串拼接&lt;/p&gt;
&lt;/
      
    
    </summary>
    
      <category term="Vue" scheme="/categories/Vue/"/>
    
    
      <category term="Vue" scheme="/tags/Vue/"/>
    
  </entry>
  
  <entry>
    <title>jQuery - 基础</title>
    <link href="/2019/05/16/2.2.1.jQuery%20-%20%E5%9F%BA%E7%A1%80/"/>
    <id>/2019/05/16/2.2.1.jQuery - 基础/</id>
    <published>2019-05-16T08:50:56.670Z</published>
    <updated>2019-05-16T04:21:12.446Z</updated>
    
    <content type="html"><![CDATA[<p><code>隐式迭代、链式编程</code></p><h1 id="jQuery对象"><a href="#jQuery对象" class="headerlink" title="jQuery对象"></a>jQuery对象</h1><table><thead><tr><th>英文</th><th>描述</th></tr></thead><tbody><tr><td>$(‘选择器’);</td><td>$是一个函数   var $btn = $(‘#btn’);</td></tr><tr><td>jQuery(‘选择器’);</td><td>var $btn =   jQuery(‘#btn’)</td></tr><tr><td>$(dom对象);</td><td>DOM转jq对象</td></tr><tr><td>var div =   $(‘div’)[0];</td><td>jq转DOM对象</td></tr></tbody></table><p>通过$符号调用所返回的jQuery对象的本质就是一个集合（==伪数组==）→   jQuery对象      //  通过index()可获取一组标签中的索引</p><h1 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h1><table><thead><tr><th>英文</th><th>中文</th><th>描述</th></tr></thead><tbody><tr><td>$(‘#id’)</td><td>ID选择器</td><td>获取指定ID的元素</td></tr><tr><td>$(‘.class’)</td><td>类选择器</td><td>获取同一类class的元素</td></tr><tr><td>$(‘div’)</td><td>标签选择器</td><td>获取同一类标签的所有元素</td></tr><tr><td>$(‘div,p,li’)</td><td>并集选择器</td><td>使用逗号分隔，只要符合条件之一就可。</td></tr><tr><td>$(‘div.redClass’)</td><td>交集选择器</td><td>获取class为redClass的div元素</td></tr><tr><td>$(‘ul &gt;   li’)</td><td>子代选择器</td><td>使用&gt;号，获取儿子层级的元素，注意，并不会获取孙子层级的元素</td></tr><tr><td>$(‘ul li’)</td><td>后代选择器</td><td>使用空格，代表后代选择器，获取ul下的所有li元素，包括孙子等</td></tr><tr><td>$(‘li:eq(2)’).css(‘color’,   ‘red’)</td><td>:eq(index)</td><td>获取到的li元素中，选择索引号为2的元素，索引号index从0开始。</td></tr><tr><td>$(‘li:odd’).css(‘color’,   ‘red’)</td><td>:odd</td><td>获取到的li元素中，选择索引号为奇数的元素</td></tr><tr><td>$(‘li:even’).css(‘color’,   ‘red’)</td><td>:even</td><td>获取到的li元素中，选择索引号为偶数的元素</td></tr><tr><td>children(selector)</td><td>(‘ul’).children(‘li’)</td><td>相当于\$(‘ull &gt;   i’)，子类选择器</td></tr><tr><td>find(selector)</td><td>(‘ul’).find(‘li’)</td><td>相当于\$(‘ul li’),后代选择器</td></tr><tr><td>siblings(selector)</td><td>$(‘#first’).siblings(‘li’)</td><td>查找兄弟节点，不包括自己本身。</td></tr><tr><td>parent()</td><td>$(‘#first’).parent()</td><td>查找父亲</td></tr><tr><td>eq(index)</td><td>$(‘li’).eq(2)</td><td>相当于$(‘li:eq(2)’),index从0开始</td></tr><tr><td>end()</td><td></td><td>找上一级的jq对象</td></tr><tr><td>next()</td><td>$(‘li’).next()</td><td>找下一个兄弟</td></tr><tr><td>nextAll()</td><td></td><td></td></tr><tr><td>prev()</td><td>$(‘li’).prev()</td><td>找上一次兄弟</td></tr><tr><td>prevAll()</td><td></td></tr></tbody></table><h1 id="事件相关"><a href="#事件相关" class="headerlink" title="事件相关"></a>事件相关</h1><table><thead><tr><th>英文</th><th>中文</th><th>描述</th></tr></thead><tbody><tr><td>jQuery对象.事件名(事件处理程序);</td><td>简单方式</td><td>$(‘button’).click(function(){     alert(‘nihao’)   });</td></tr><tr><td>jQuery对象.on(‘事件名’,事件处理程序);</td><td>on方式注册</td><td></td></tr><tr><td>jQuery对象.off(‘click’,事件处理程序名称)</td><td>解绑简单的事件</td><td></td></tr><tr><td>jQuery对象.off(‘click’,‘选择器’,事件处理程序名称)</td><td>解绑事件委托注册的事件</td><td></td></tr><tr><td>jQuery对象.trigger(‘事件名’);</td><td>触发事件</td><td>通常用于定时器，每隔<em>秒  触发一次某个元素的</em>事件</td></tr></tbody></table><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 事件委托  jQuery对象.on('事件名','选择器',事件处理程序);</span></span><br><span class="line"></span><br><span class="line">$(<span class="string">'ul'</span>).on(<span class="string">'click'</span>, <span class="string">'li'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="comment">// this 是谁？ 当前点击的li</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    alert($(<span class="keyword">this</span>).text());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h1 id="样式、属性、类名、内容控制"><a href="#样式、属性、类名、内容控制" class="headerlink" title="样式、属性、类名、内容控制"></a>样式、属性、类名、内容控制</h1><table><thead><tr><th>英文</th><th>中文</th><th>描述</th></tr></thead><tbody><tr><td>jQuery对象.css(name,value);</td><td></td><td>$(‘div’).css(‘width’,500);</td></tr><tr><td>jQuery对象.css({ name:value, name:value});</td><td></td><td>$(‘div’).css({      border:’10px solid blue’,      background:’pink’,    });</td></tr><tr><td>jQuery对象.css(‘样式属性名’);</td><td></td><td>var h = $(‘div’).css(‘height’);</td></tr><tr><td>jQuery对象.addClass(‘类名’);</td><td>添加类名</td><td></td></tr><tr><td>jQuery对象.removeClass(‘类名’);</td><td>移除类名</td><td></td></tr><tr><td>jQuery对象.toggleClass(‘类名’);</td><td>类名切换</td><td></td></tr><tr><td>jQuery对象.hasClass(‘类名’);</td><td>检测类名是否存在</td><td>返回布尔值</td></tr><tr><td>jQuery对象.attr(name,value)</td><td>设置标签的属性</td><td>$(“img”).attr(“width”,”180”);</td></tr><tr><td>jQuery对象.attr(name);</td><td>获取标签属性值</td><td></td></tr><tr><td>removeAttr(name);</td><td>移除标签的属性</td><td></td></tr><tr><td>$(‘input’).prop(‘属性名’);</td><td>prop方法操作属性</td><td>针对：selected、checked、disabled</td></tr><tr><td>jQuery对象.text();</td><td>操作标签内部的文本</td><td></td></tr><tr><td>jQuery对象.html();</td><td>操作标签内部的所有内容</td><td></td></tr><tr><td>jQuery对象.val();</td><td>操作表单元素的内容</td></tr></tbody></table><h1 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h1><table><thead><tr><th>英文</th><th>中文</th><th>描述</th></tr></thead><tbody><tr><td>jQuery对象.show(speed,easing,fn);</td><td>显示</td><td>-   参数speed，动画时长，数字→毫秒      - easing，运动的方式，默认swing缓冲,linear匀速</td></tr><tr><td>jQuery对象.hide(speed,easing,fn);</td><td>隐藏</td><td></td></tr><tr><td>jQuery对象.toggle(speed,easing,fn);</td><td>切换</td><td></td></tr><tr><td>jQuery对象.slideDown(speed,easing,fn);</td><td>下拉 卷曲-显示</td><td></td></tr><tr><td>jQuery对象.slideUp(speed,easing,fn);</td><td>下拉 卷曲-隐藏</td><td></td></tr><tr><td>jQuery对象.slideToggle(speed,easing,fn);</td><td>下拉 卷曲-切换</td><td></td></tr><tr><td>jQuery对象.fadeIn(speed,easing,fn);</td><td>淡入淡出</td><td></td></tr><tr><td>jQuery对象.fadeOut(speed,easing,fn);</td><td>淡入淡出</td><td></td></tr><tr><td>jQuery对象.fadeToggle(speed,easing,fn);</td><td>淡入淡出</td><td></td></tr><tr><td>animate(params,[speed],[easing],[fn])</td><td>自定义动画</td><td>animage({   样式属性名:目标值, 样式属性名:目标值},1000)</td></tr><tr><td>jQuery对象.stop(clearQueue,jumpToEnd);</td><td>停止动画</td><td>2个值 是布尔值</td></tr></tbody></table><h1 id="标签元素控制"><a href="#标签元素控制" class="headerlink" title="标签元素控制"></a>标签元素控制</h1><table><thead><tr><th>动态创建元素</th><th>中文</th></tr></thead><tbody><tr><td>$(‘<li></li>‘)</td><td>创建元素</td></tr><tr><td>新创建jQuery对象.appendTo(‘父选择器’、父对象);</td><td>在最后追加元素</td></tr><tr><td>父元素jQuery对象.apeend(新创建的jQuery对象);</td><td></td></tr><tr><td>新创建jQuery对象.prependTo(‘父元素选择器’);</td><td>在前面追加元素</td></tr><tr><td>父元素jQuery对象.prepend(新创建的jQuery对象);</td><td></td></tr><tr><td>jQuery对象.remove()</td><td>删除元素   删谁就让谁调用这个方法</td></tr><tr><td>jQuery对象.empty()</td><td>清空元素   清空内部的所有元素及元素相关的事件</td></tr><tr><td>jQuery对象.html(‘’);</td><td>清空元素   不推荐使用，该方式不会清空事件</td></tr><tr><td>jQuery对象.clone(布尔值);    返回克隆好的元素</td><td>参数：默认是false,表示仅仅克隆内容。   true，克隆内容和事件</td></tr><tr><td>$(“选择器”).before(html);</td><td></td></tr><tr><td>$(“选择器”).after(html)</td></tr></tbody></table><table><thead><tr><th>操作元素的尺寸</th><th>中文</th></tr></thead><tbody><tr><td>jQuery对象.width(数字);</td><td>仅内容部分</td></tr><tr><td>jQuery对象.height(数字);</td><td>仅内容部分</td></tr><tr><td>jQuery对象.innerWidth(数字);</td><td>内容部分 + padding</td></tr><tr><td>jQuery对象.innerHeight(数字);</td><td>内容部分 + padding</td></tr><tr><td>jQuery对象.outerWidth(数字);</td><td>内容部分 + padding +   border   .outerWidth(true) 额外获取margin</td></tr><tr><td>jQuery对象.outerHeight(数字);</td><td>内容部分 + padding +   border</td></tr></tbody></table><table><thead><tr><th>操作元素的位置</th><th>中文</th></tr></thead><tbody><tr><td>jQuery对象.offset()</td><td>获取的元素的位置，永远参照文档,返回一个对象，对象中包含了元素的位置</td></tr><tr><td>jQuery对象.position();</td><td>返回的一个对象，对象中包含了元素的位置，参照最近的定位元素（和定位有关系）</td></tr><tr><td>jQuery对象.scrollTop();</td><td>$(window).scrollTop()   操作卷去的页面间距</td></tr></tbody></table><h1 id="JQ-ajax"><a href="#JQ-ajax" class="headerlink" title="JQ - ajax"></a>JQ - ajax</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123; <span class="attr">key</span>:value &#125;）</span><br><span class="line">       </span><br><span class="line">url：请求地址</span><br><span class="line">type：请求方法，默认为 <span class="keyword">get</span></span><br><span class="line">dataType：服务端响应数据类型</span><br><span class="line">contentType：请求体内容类型，默认 application/x-www-form-urlencoded</span><br><span class="line">data：需要传递到服务端的数据，如果 GET 则通过 URL 传递，如果 POST 则通过请求体传递</span><br><span class="line">timeout：请求超时时间</span><br><span class="line">beforeSend：请求发起之前触发</span><br><span class="line">success：请求成功之后触发（响应状态码 200）</span><br><span class="line">error：请求失败触发</span><br><span class="line">complete：请求完成触发（不管成功与否）</span><br><span class="line">async：false   （将异步请求改为同步）</span><br><span class="line"></span><br><span class="line">//或者：</span><br><span class="line">$.<span class="keyword">get</span>(url, data, callback)</span><br><span class="line">$.post(url, data, callback)</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$.ajax(&#123;</span><br><span class="line">    url: <span class="string">"/greet"</span>,</span><br><span class="line">    data: &#123;<span class="attr">name</span>: <span class="string">'jenny'</span>&#125;,</span><br><span class="line">    type: <span class="string">"POST"</span>,</span><br><span class="line">    dataType: <span class="string">"json"</span>,</span><br><span class="line">    success: <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">        <span class="comment">// data = jQuery.parseJSON(data);  //dataType指明了返回数据为json类型，故不需要再反序列化</span></span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="请求头设置"><a href="#请求头设置" class="headerlink" title="请求头设置"></a>请求头设置</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这个是全局的，所有的ajax请求都会加上这个请求头</span></span><br><span class="line"> $(<span class="built_in">document</span>).ajaxSend(<span class="function"><span class="keyword">function</span> (<span class="params">event, xhr</span>) </span>&#123;</span><br><span class="line">            xhr.setRequestHeader(<span class="string">"custom-header"</span>, <span class="string">"custom-info"</span>) ;  <span class="comment">// 增加一个自定义请求头</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 局部设置请求头</span></span><br><span class="line">$.ajax(&#123;</span><br><span class="line">  headers:&#123;</span><br><span class="line">   <span class="string">"Referer"</span>: <span class="string">"http://www.baidu.com"</span> <span class="comment">// 有些浏览器不允许修改该请求头       </span></span><br><span class="line">   ,<span class="string">"User-Agent"</span>: <span class="string">"newLine"</span> <span class="comment">// 有些浏览器不允许修改该请求头        </span></span><br><span class="line">   ,<span class="string">"X-Power"</span>: <span class="string">"newLine"</span>       </span><br><span class="line">   ,<span class="string">"Accept-Language"</span>: <span class="string">"en-US"</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//...</span></span><br><span class="line">&#125;) ;</span><br></pre></td></tr></table></figure><h1 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h1><table><thead><tr><th>英文</th><th>描述</th></tr></thead><tbody><tr><td>入口函数</td><td>$(function(){ // 获取元素});</td></tr><tr><td>$(document).ready(function(){   // 获取元素});</td></tr></tbody></table><p>window.onload会等页面全部加载完执行 只能存在一个，而jq可以存在多个，dpm树结束后就运行    </p><p>“这俩都是在jq原型中创建一个方法，让jq对象调用（如果用上了this  this代码调用者）<br>$.prototype.createTable = function (shuju) {}<br>$.fn.createTable = function (shuju) {}”    </p><table><thead><tr><th>英文</th><th>描述</th></tr></thead><tbody><tr><td>事件对象.clientX/Y   参照浏览器</td><td>事件对象.preventDefault();   阻止默认行为</td></tr><tr><td>事件对象.pageX/Y   参照文档</td><td>事件对象.stopPropagation();   阻止事件冒泡</td></tr><tr><td>事件对象.offsetX/Y   参照事件源</td><td>事件对象.keyCode   返回键码数字</td></tr><tr><td>事件对象.target;</td><td>事件对象.alt/shift/ctrlKey   返回是布尔值。 检测是否按下（true）</td></tr></tbody></table><table><thead><tr><th>英文</th><th>描述</th><th></th><th></th></tr></thead><tbody><tr><td>多库共存</td><td>jq对象 =   jQuery.noConflict();</td><td>不 冲突</td><td>释放$，改成自定义的对象      var $1 = jQuery.noConflict();</td></tr><tr><td>深/浅拷贝</td><td>$.extend([true],obj1,obj2)</td><td>对obj1进行 深拷贝、浅拷贝</td></tr></tbody></table><table><thead><tr><th>英文</th><th>描述</th></tr></thead><tbody><tr><td>*.data()</td><td>拿标签中的data-* 自定义属性的值</td></tr></tbody></table><table><thead><tr><th>英文</th><th>描述</th></tr></thead><tbody><tr><td>$(selector).load(function)</td><td>当指定的元素（及子元素）已加载时，会发生 load() 事件</td></tr><tr><td>jQuery.getJSON(url,data,success(data,status,xhr))</td><td>通过 HTTP GET 请求载入 JSON 数据。</td></tr><tr><td>jQuery.getScript(url,success(response,status))</td><td>getScript() 方法通过 HTTP GET 请求载入并执行 JavaScript 文件。</td></tr><tr><td>$(from表单).serialize()</td><td>统一获取表单中的数据，以键值对 呈现（input需要name属性）</td></tr></tbody></table><h1 id="代码示例"><a href="#代码示例" class="headerlink" title="代码示例"></a>代码示例</h1><h2 id="回到页面顶端-获取元素位置"><a href="#回到页面顶端-获取元素位置" class="headerlink" title="回到页面顶端+获取元素位置"></a>回到页面顶端+获取元素位置</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 窗口卷曲事件</span></span><br><span class="line">$(<span class="built_in">window</span>).scroll(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> b = $(<span class="built_in">window</span>).scrollTop() <span class="comment">// 获取页面卷曲值</span></span><br><span class="line">    <span class="keyword">let</span> a = $(<span class="string">'.jia'</span>).offset().top <span class="comment">//获取元素距离页面订单的px</span></span><br><span class="line">&#125;)</span><br><span class="line">$(<span class="string">'button'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    $(<span class="string">'html,body'</span>).animate(&#123;</span><br><span class="line">        scrollTop: <span class="number">0</span></span><br><span class="line">    &#125;) <span class="comment">//回到页面顶端</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;code&gt;隐式迭代、链式编程&lt;/code&gt;&lt;/p&gt;
&lt;h1 id=&quot;jQuery对象&quot;&gt;&lt;a href=&quot;#jQuery对象&quot; class=&quot;headerlink&quot; title=&quot;jQuery对象&quot;&gt;&lt;/a&gt;jQuery对象&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr
      
    
    </summary>
    
      <category term="jQuery" scheme="/categories/jQuery/"/>
    
    
      <category term="jQuery" scheme="/tags/jQuery/"/>
    
  </entry>
  
</feed>
